<chapter id="using-kmail">

<chapterinfo>
<authorgroup>
<author
>&Daniel.Naber; &Daniel.Naber.mail; </author>
<author
>&Scarlett.Clark; &Scarlett.Clark.mail; </author>
<author
>&David.Bryant; &David.Bryant.mail; </author>
<othercredit role="translator"
><firstname
>Николай</firstname
><surname
>Шафоростов</surname
><affiliation
><address
><email
>shafff@ukr.net</email
></address
></affiliation
><contrib
>Перевод на русский язык</contrib
></othercredit
><othercredit role="translator"
><firstname
>Мария</firstname
><surname
>Шикунова</surname
><affiliation
><address
><email
>translation-team@basealt.ru</email
></address
></affiliation
><contrib
>Перевод на русский язык</contrib
></othercredit
> 
</authorgroup>

<date
>12 сентября 2020 г.</date>
<releaseinfo
>5.14.2 (Приложения KDE 20.04.2)</releaseinfo>
</chapterinfo>

<title
>Использование &kmail;</title>

<sect1 id="the-mail-reader-window">
<title
>Главное окно</title>

<para
>Главное окно &ndash; это окно, появляющееся после запуска &kmail;. Оно разделено на три части:</para>

<variablelist>
<varlistentry>
<term
>Панель папок (слева)</term>
<listitem>
  <screenshot>
<screeninfo
>Панель папок</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="folder-example.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Панель папок</phrase>
    </textobject>
    <caption>
      <para
>Панель папок</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->

<para
>Эта панель содержит список папок с письмами (в других почтовых программах они могут называться почтовыми ящиками). Чтобы выбрать папку, просто щёлкните по ней левой кнопкой мыши. Письма, содержащиеся в папке, появятся на панели списка писем. Список папок может быть показан либо в сокращённом виде, занимающем лишь малую часть в левой части окна, либо в длинном виде, занимающем левую часть окна целиком (так может быть показано больше почтовых папок). Возможно переключаться между этими двумя способами отображения с помощью вкладки <guilabel
>Внешний вид</guilabel
>/<guilabel
>Расположение</guilabel
> в диалоге <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить &kmail;...</guimenuitem
></menuchoice
>. Верхняя часть панели папок предоставляет быстрый доступ к избранным папкам. Чтобы добавить туда папки, перетащите их в эту область или щёлкните по папке правой кнопкой мыши и в открывшемся контекстном меню выберите пункт <guimenuitem
>Добавить в избранные папки</guimenuitem
>. Более подробная информация содержится в <link linkend="folders"
>разделе «Папки писем»</link
> .</para>
<para
>&nbsp;</para
> <!-- whitespace -->
</listitem>
</varlistentry>

<varlistentry>
<term
>Панель заголовков (по умолчанию вверху справа)</term>
<listitem>
<screenshot>
<screeninfo
>Панель заголовков</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="message.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Панель заголовков</phrase>
    </textobject>
    <caption>
      <para
>Панель заголовков («Умная» тема)</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->
<para
>На этой панели отображается информация из заголовков писем (тема, отправитель и дата) для писем в выбранной папке. Чтобы отобразить письмо на панели, нажмите на него в списке писем. Также возможно выбрать несколько писем, удерживая клавишу &Ctrl; (или &Shift;) при щелчке по письмам левой кнопкой мыши. </para>

<para
>Чтобы изменить внешний вид списка писем, воспользуйтесь пунктом меню <menuchoice
><guimenu
>Вид</guimenu
><guimenuitem
>Список писем</guimenuitem
> <guimenuitem
>Тема</guimenuitem
></menuchoice
>. Доступно несколько вариантов. </para>
<itemizedlist>
  <listitem
><para
><guilabel
>Классическая</guilabel
>. Стандартный внешний вид с одной строкой на письмо с возможностью сортировки по нажатию на столбцы.</para
></listitem>
  <listitem
><para
><guilabel
>«Умная»</guilabel
>. Умная тема оформления с несколькими строками и элементами, со значками статусов и отсутствием сортировки по нажатию на столбцы.</para
></listitem>
  <listitem
><para
><guilabel
>«Умная» с активным статусом</guilabel
>. Умная тема оформления с несколькими строками и элементами и активным столбцом статуса.</para
></listitem>
  <listitem
><para
><guilabel
>Настроить...</guilabel
>. Позволяет настроить собственную тему для панели заголовков (например, добавить или удалить столбцы из панели сортировки).</para
></listitem>
</itemizedlist>
<para
>Чтобы отсортировать письма в Классической теме, просто щёлкните левой кнопкой мыши по столбцу, по которому требуется их отсортировать. Ещё один щелчок по этому же столбцу переключит сортировку по возрастанию или по убыванию. При щелчке правой кнопкой мыши по заголовку списка отобразится контекстное меню, позволяющее отображать или скрывать несколько столбцов в списке. Возможно также настроить отображение столбцов; более подробная информация содержится в разделе <link linkend="customize-messagelist-theme"
>настройки внешнего вида списка писем</link
>. </para>
<para
>&nbsp;</para
> <!-- whitespace -->
</listitem>
</varlistentry>
<varlistentry id="using-message-preview-pane">
<term
>Панель просмотра письма (по умолчанию внизу справа)</term>
<listitem>
<screenshot>
<screeninfo
>Панель просмотра письма</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="preview.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Панель просмотра письма</phrase>
    </textobject>
    <caption>
      <para
>Панель просмотра письма</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->
<anchor id="the-preview-pane-headers"/>
<para
>Эта панель отображает текущее выделенное письмо. Далее представлены некоторые способы для настройки панели просмотра.</para>
<para
>В верхней части панели просмотра отображается заголовок письма. Доступны несколько опций отображения, которые настраиваются с помощью меню <menuchoice
><guimenu
>Вид</guimenu
><guisubmenu
>Заголовок</guisubmenu
></menuchoice
>.</para>
<itemizedlist id="using-header-options">
  <listitem
><para
><guilabel
>Изящный</guilabel
>. Цветной заголовок со статусом спама и индикатором наличия вложений.</para
></listitem>
  <listitem
><para
><guilabel
>Краткий</guilabel
>. Заголовок и в скобках: От кого, копии (при наличии) и дата.</para
></listitem>
  <listitem
><para
><guilabel
>&kmail; 5.2</guilabel
> Изображение пользователя (если доступно) с заголовком, полем «от кого», полем «кому», копии (если есть), индикатором спама и вложениями на раздельных строках.</para
></listitem>
  <listitem
><para
><guilabel
>Загрузить новые оформления...</guilabel
>. Позволяет загружать пользовательские темы, загруженные другими пользователями &kmail;.</para
></listitem>
</itemizedlist>
<para
>Чтобы переключаться между обычным текстом и оформлением &HTML; (если и только письмо закодировано обоими способами), нажмите на кнопку, расположенную в левой части панели. Текст на кнопке поможет определить, какой тип отображения сейчас включён. Диалог <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить &kmail;...</guimenuitem
><guisubmenu
>Безопасность</guisubmenu
></menuchoice
> позволяет выбрать HTML в качестве варианта отображения писем по умолчанию, если &HTML; предпочтителен обычному тексту.</para>
<para
>Чтобы изменить способ отображения вложений в письмах, перейдите в меню <menuchoice
><guimenu
>Вид</guimenu
> <guisubmenu
>Вложения</guisubmenu
></menuchoice
>. Далее представлены варианты на выбор.</para>
<itemizedlist id="using-attachment-view-options">
  <listitem
><para
><guimenuitem
>В виде значков</guimenuitem
>. Все вложения будут отображаться в качестве значков в нижней части письма.</para
></listitem>
  <listitem
><para
><guimenuitem
>«Умная»</guimenuitem
> тема будет отображать вложения в качестве значков, пока не будет предложено просмотреть их в самом письме. Возможно указать вложения, которые следует предлагать отображать внутри создаваемых писем с помощью флажка <guilabel
>Предложить автоматический показ</guilabel
> в <link linkend="the-composer-window"
>окне редактора писем</link
> в диалоге свойств вложения.</para
></listitem>
  <listitem
><para
>Вариант <guimenuitem
>В тексте нового письма</guimenuitem
> показывает содержимое вложений в нижней части письма. Вложения, которые невозможно отобразить, например, сжатые файлы, будут отображаться в виде значков.</para
></listitem>
  <listitem
><para
><guimenuitem
>Не показывать</guimenuitem
> — вложения не будут отображаться.</para
></listitem>
  <listitem
><para
>Вариант <guimenuitem
>Только в заголовках</guimenuitem
> отключит отображение текста в письме и отобразит вложения.</para
></listitem>
</itemizedlist>
<para
>Взаимодействие между темами заголовков, панелями просмотра вложений и режимами простого текста и кода &HTML; довольно сложное. Например, если прикрепить HTML-файл к простому текстовому письму, &kmail;, вероятно, интерпретирует письмо как закодированное в двух разных форматах, хотя на самом деле это не так. Аналогичным образом письма в формате &HTML; могут отображать встроенные изображения, даже если для вложений была выбрана опция «Скрыть».</para>

<para
>Чтобы отобразить структуру каждого письма, нажмите <keycombo action="simul"
>&Ctrl;&Alt;<keycap
>D</keycap
></keycombo
>. Откроется средство просмотра структуры письма под панелью предварительного просмотра. Эта же комбинация клавиш выключает средство просмотра структуры письма.</para>

<para
>Прокручивать письмо по фрагментам размером со страницу возможно с помощью клавиш &PgUp; и &PgDn;, либо по строкам с помощью клавиш &Up; и &Down;; также <link linkend="keyboard-shortcuts"
>комбинации клавиш</link
> позволяют перемещаться по письмам без использования мыши.</para
></listitem>
</varlistentry>
</variablelist>

</sect1>

<sect1 id="keyboard-shortcuts">
<title
>Комбинации клавиш</title>

<para
>По умолчанию в главном окне поддерживаются указанные ниже комбинации клавиш. Обратите внимание, что многие «универсальные» комбинации клавиш (например, <keycombo action="simul"
>&Ctrl;<keycap
>C</keycap
></keycombo
> для копирования выделенного текста в буфер обмена или <keycombo action="simul"
>&Ctrl;<keycap
>F</keycap
></keycombo
> для открытия диалога поиска) распознаются &kmail;, но здесь не задокументированы.</para>

<informaltable>
<tgroup cols="2">
<thead>
<row>
<entry
>Комбинация клавиш</entry>
<entry
>Действие</entry>
</row>
</thead>
<tbody>
<row>
<entry
>&Space;</entry>
<entry
>Прокрутить текущее письмо.</entry>
</row>
<row>
<entry
><keycap
>→</keycap
> или <keycap
>N</keycap
></entry>
<entry
>Перейти к следующему письму в текущей папке и отобразить содержимое.</entry>
</row>
<row>
<entry
><keycap
>←</keycap
> или <keycap
>P</keycap
></entry>
<entry
>Перейти к предыдущему письму в текущей папке и отобразить содержимое.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Home;</keycombo
></entry>
<entry
>Перейти к первому письму в текущей папке и отобразить содержимое.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&End;</keycombo
></entry>
<entry
>Перейти к последнему письму в текущей папке и отобразить содержимое.</entry>
</row>
<row>
<entry
><keycap
>+</keycap
></entry>
<entry
>Перейти к следующему непрочитанному сообщению в текущей папке.</entry>
</row>
<row>
<entry
><keycap
>-</keycap
></entry>
<entry
>Перейти к предыдущему непрочитанному сообщению в текущей папке.</entry>
</row>
<row>
<entry
><keycap
>C</keycap
></entry>
<entry
>Копировать это письмо в другую папку.</entry>
</row>
<row>
<entry
><keycap
>M</keycap
></entry>
<entry
>Переместить это письмо в другую папку.</entry>
</row>
<row>
<entry
><keycap
>A</keycap
></entry>
<entry
>Ответить всем получателям этого письма (с цитированием).</entry>
</row>
<row>
<entry
><keycap
>R</keycap
></entry>
<entry
>Ответить отправителю с цитированием</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Shift;<keycap
>R</keycap
></keycombo
></entry>
<entry
>Ответить отправителю без цитирования.</entry>
</row>
<row>
<entry
><keycap
>S</keycap
></entry>
<entry
>Запускать диалог поиска писем.</entry>
</row>
<row>
<entry
><keycap
>T</keycap
></entry>
<entry
>Открыть это письмо в редакторе писем.</entry>
</row>
<row>
<entry
>&Enter;</entry>
<entry
>Просмотр выбранного письма в полноэкранном режиме в средстве просмотра сообщений.</entry>
</row>
<row>
<entry
><keycap
>V</keycap
></entry>
<entry
>Отобразить содержимое письма и заголовки в качестве текстового файла.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>L</keycap
></keycombo
></entry>
<entry
>Проверить наличие новых писем на серверах.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>N</keycap
></keycombo
></entry>
<entry
>Открыть окно редактора писем для создания нового письма.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>+</keycap
></keycombo
></entry>
<entry
>Увеличить масштаб текущего письма с шагом 20%.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>-</keycap
></keycombo
></entry>
<entry
>Уменьшить масштаб текущего письма с шагом 20%.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>0</keycap
></keycombo
></entry>
<entry
>Сбросить масштаб письма (полный размер).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Alt;<keycap
>D</keycap
></keycombo
></entry>
<entry
>Переключить отображение структуры письма (под панелью предварительного просмотра письма).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Shift;<keycap
>O</keycap
></keycombo
></entry>
<entry
>Создать панель инструментов с вкладками (появляется над списком писем).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Shift;<keycap
>W</keycap
></keycombo
></entry>
<entry
>Убрать текущую активную вкладку с панели инструментов с вкладками.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Alt;<keycap
>↑</keycap
></keycombo
></entry>
<entry
>Перейти к предыдущей папке (если панель папок получила фокус).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Alt;<keycap
>↓</keycap
></keycombo
></entry>
<entry
>Перейти к следующей папке (если панель папок получила фокус).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Home;</keycombo
></entry>
<entry
>Перейти на самую первую папку. Используйте комбинацию клавиш <keycombo action="simul"
>&Ctrl;&Space;</keycombo
> для входа в папку</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&End;</keycombo
></entry>
<entry
>Перейти на самую последнюю папку. Используйте комбинацию клавиш <keycombo action="simul"
>&Ctrl;&Space;</keycombo
> для входа в папку</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;&Space;</keycombo
></entry>
<entry
>Войти в папку, на которую установлен фокус, то есть в папку, выбранную с помощью комбинации клавиш <keycombo action="simul"
>&Ctrl;&Home;</keycombo
> или <keycombo action="simul"
>&Ctrl;&End;</keycombo
>.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Shift;<keycap
>H</keycap
></keycombo
></entry>
<entry
>Переключиться между простым текстом и &HTML; (если только &HTML; не выбран в качестве формата по умолчанию в диалоге <guilabel
>Настройка</guilabel
>).</entry>
</row>
<row
>    
<entry
><keycombo action="simul"
>&Shift;<keycap
>←</keycap
></keycombo
> и <keycombo action="simul"
>&Shift;<keycap
>→</keycap
></keycombo
></entry>
<entry
>Последовательно выбирать письма в списке писем, начиная с текущего.</entry>
</row>
</tbody>
</tgroup>
</informaltable>

<para
>Для более полного списка комбинаций клавиш перейдите в <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить комбинации клавиш...</guimenuitem
></menuchoice
>. Если значения по умолчанию не устраивают, возможно их поменять.</para>

<para
>Здесь заслуживают упоминания два действия мыши. Во-первых, возможно выбрать несколько непоследовательных писем, которые следует обрабатывать одновременно (например, скопировать, удалить или переместить). Чтобы сделать это, зажмите клавишу &Ctrl; и выберите нужные письма щелчком левой кнопки мыши. Во-вторых, письмо возможно открыть во внешнем окне, дважды щёлкнув по элементу в списке писем. Если письмо находится в папке «Исходящие», «Черновики» или «Шаблоны», оно будет открыто в окне редактора писем. В противном случае оно будет открыто с помощью внешнего средства просмотра писем, сокращённой версии главного окна &kmail; без списков папок и писем и с более короткими меню.</para>

</sect1>

<sect1 id="the-composer-window">
<title
>Окно редактора</title>
<screenshot>
<screeninfo
>Окно редактора</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="composer-window.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Окно редактора</phrase>
    </textobject>
    <caption>
      <para
>Окно редактора писем в режиме создания письма &HTML;.</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->
<para
>Окно редактора писем используется для написания новых писем, составления ответов и пересылки писем. Открыть это окно возможно несколькими разными способами.</para>
<sect2 id="composing-a-message">
<title
>Составление писем</title>
<variablelist>
  <varlistentry id="compose-new-message"
><term
>Написать письмо...</term>
  <listitem>
  <para
>Чтобы вызвать окно редактора писем, воспользуйтесь одним из следующих четырёх вариантов:</para>
      <itemizedlist>
        <listitem>
          <para
><menuchoice
><guimenu
>Файл</guimenu
><guisubmenu
>Создать</guisubmenu
><guimenuitem
>Написать письмо...</guimenuitem
></menuchoice
></para>
        </listitem>
        <listitem>
          <para
><menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Написать письмо...</guimenuitem
></menuchoice
></para>
        </listitem>
        <listitem>
          <para
>Кнопкой <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="mail-message-new.png" format="PNG"/> </imageobject
></inlinemediaobject
> Создать</guiicon
> на главной панели инструментов.</para>
        </listitem>
        <listitem>
          <para
>Комбинацией клавиш <keycombo action="simul"
>&Ctrl;<keycap
>N</keycap
></keycombo
>.</para>
        </listitem>
      </itemizedlist>
      <para
>Чтобы написать письмо, заполните соответствующие поля в окне редактора. Чтобы выбрать, какие заголовки следует показывать, воспользуйтесь меню <guimenu
>Вид</guimenu
>. Эти заголовки будут по умолчанию отображаться при открытии нового окна редактора. Доступны следующие элементы:</para>
      <itemizedlist id="composer-headers">
        <listitem>
          <para
>Раскрывающийся список <guimenuitem
>Профили</guimenuitem
> позволяет выбрать профиль для использования.</para>
        </listitem>
        <listitem>
          <para
>Раскрывающийся список <guimenuitem
>Словарь</guimenuitem
> позволяет выбрать словарь, используемый для проверки орфографии.</para>
        </listitem>
        <listitem>
          <para
><guimenuitem
>Папка отправленных</guimenuitem
> позволяет указать, где будет сохранена локальная копия этого письма при его отправке.</para>
        </listitem>
        <listitem>
          <para
><guimenuitem
>Метод отправки</guimenuitem
> позволяет выбирать сервер исходящей почты.</para>
        </listitem>
        <listitem>
          <para
>Стандартные поля «Отправитель:», «Кому:» и «Тема:» (Поле «Адрес для ответа:» появится только если был указан альтернативный <guilabel
>Адрес для ответа</guilabel
> на вкладке <guilabel
>Дополнительно</guilabel
> в диалоге <menuchoice
><guimenu
>Настройка</guimenu
><guisubmenu
>Настроить &kmail;...</guisubmenu
> <guisubmenu
>Учётные записи</guisubmenu
><guimenuitem
>Профили</guimenuitem
></menuchoice
>).</para>
        </listitem>
        <listitem>
          <para
>Функция <guimenuitem
>Моноширинный шрифт</guimenuitem
> включает или выключает использование моноширинных шрифтов.</para>
        </listitem>
        <listitem>
          <para
>Функция <guimenuitem
>Фрагменты</guimenuitem
> отображает окно фрагментов, позволяющее сохранять наиболее часто используемые в письмах фразы.</para>
        </listitem>
      </itemizedlist>

<para
>Существует множество средств, облегчающих выбор получателей. Кнопки <guibutton
>Выбрать...</guibutton
>, расположенные рядом с полями <guilabel
>Кому:</guilabel
>, <guilabel
>Копия:</guilabel
> и <guilabel
>Скрытая копия:</guilabel
> вызывают адресную книгу для выбора из неё адресов.</para>

<para
>При начале ввода адреса в полях <guilabel
>Кому:</guilabel
>/<guilabel
>Копия:</guilabel
>/<guilabel
>Скрытая копия:</guilabel
> появляется список совпадающих адресов из списка недавно использованных и из адресной книги. Чтобы отключить автоматическое дополнение адресов, щёлкните по текстовому полю правой кнопкой мыши и в открывшемся контекстном меню выберите другое <guilabel
>Автодополнение текста &gt;</guilabel
>. Это контекстное меню также позволяет настроить порядок, в котором появляются варианты для автодополнения (пункт <guilabel
>Настроить автодополнение...</guilabel
>).</para>

<para
>При добавлении нескольких адресатов в какое-либо текстовое поле для разделения адресов используйте запятую. Возможно, потребуется указать полные адреса (то есть, <userinput
>user@example.com</userinput
>) даже для локальных пользователей, это зависит от параметров системы.</para>

<para
>Завершив написание письма, нажмите кнопку <guiicon
><inlinemediaobject
><imageobject
> <imagedata fileref="mail-send.png" format="PNG"/></imageobject
></inlinemediaobject
> Отправить</guiicon
> для немедленной отправки письма или кнопку <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="mail-queue.png" format="PNG"/></imageobject
> </inlinemediaobject
> Отправить позже</guiicon
> для помещения письма в папку «Исходящие». Если письмо ещё не готово к отправке, выберите пункт меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Сохранить как черновик</guimenuitem
></menuchoice
> для сохранения письма в качестве черновика. Чтобы напечатать письмо, воспользуйтесь пунктом меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Предварительный просмотр</guimenuitem
></menuchoice
> для просмотра письма и пунктом меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Печать...</guimenuitem
></menuchoice
> для непосредственной печати.</para>
  <para id="send-later"
><menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Отправить позже</guimenuitem
></menuchoice
> позволяет отложить отправление писем на определённую дату и время. Более подробная информация содержится в разделе <ulink url="help:/akonadi_sendlater_agent"
>«Агент «Отправить позже»</ulink
>.</para>
<para
>&nbsp;</para
> <!-- whitespace -->
</listitem>
</varlistentry>
<varlistentry id="new-compose-from-templates">
    <term
><menuchoice
><guimenu
>Файл</guimenu
><guisubmenu
>Создать</guisubmenu
><guisubmenu
>Новое письмо на основе шаблона</guisubmenu
> <guimenuitem
><replaceable
>Мой шаблон</replaceable
></guimenuitem
></menuchoice
></term>
  <listitem>
    <para
>Создание нового письма из шаблона полезно, когда было создано качественное письмо, которое возможно использовать в качестве шаблона для новых писем. Выберите <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Сохранить как шаблон</guimenuitem
></menuchoice
>; это поместит новый шаблон в папку <guilabel
>Шаблоны</guilabel
>. Шаблоны возможно в любое время менять (для этого их следует выбрать в папке). Чтобы открыть шаблон в окне редактора, дважды щёлкните левой кнопкой мыши по названию шаблона (либо нажмите клавишу <keycap
>T</keycap
>). Возможно также выбрать шаблон через меню <guimenu
>Файл</guimenu
>.</para>
  <para
>&nbsp;</para
> <!-- whitespace -->
  </listitem>
</varlistentry>
</variablelist>
</sect2>

<sect2 id="encrypt-sign">
<title
>Подписывание и шифрование писем</title>

<para
>Чтобы отправить <link linkend="pgp-encrypt-your-messages"
>зашифрованное</link
> письмо или письмо с <link linkend="pgp-sign-your-messages"
>цифровой подписью</link
>,  нажмите на панели инструментов кнопку <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="document-edit.png" format="PNG"/> </imageobject
></inlinemediaobject
> Подписать</guiicon
> и/или <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="document-decrypt.png" format="PNG"/></imageobject
></inlinemediaobject
> Зашифровать</guiicon
>. Чтобы выбрать формат шифрования письма, воспользуйтесь раскрывающимся списком <menuchoice
><guimenuitem
>Параметры</guimenuitem
><guisubmenu
>Формат шифрования/подписи &gt;</guisubmenu
></menuchoice
> (меню <guilabel
>Параметры</guilabel
> также позволяет подписать или зашифровать письмо). Возможно выбрать один из следующих пяти форматов: </para>

<variablelist id="cryptographic-message-formats">
<varlistentry>
<term
><guilabel
>Любой</guilabel
></term>
<listitem>
<para
>&kmail; будет использовать формат, понимаемый всеми получателями письма. Предпочитаемый формат для каждого из них возможно указать в <ulink url="help:/kaddressbook"
>&kaddressbook;</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Inline OpenPGP (устарел)</guilabel
></term>
<listitem>
<para
>Этот формат устарел, но он поддерживается для обратной совместимости. При использовании этого формата будет подписан или зашифрован только текст письма <emphasis
>без вложений</emphasis
>. Письма в формате &HTML; вообще нельзя шифровать таким способом. Этот формат возможно использовать только при особой необходимости, например, при отправке писем тем людям, которые пользуются почтовыми клиентами, не поддерживающими более современные форматы.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>OpenPGP/&MIME;</guilabel
></term>
<listitem>
<para
>Этот формат — преемник устаревшего встраиваемого формата OpenPGP. При использовании этого формата шифруются также все вложения письма. При использовании шифрования OpenPGP рекомендуется выбирать этот формат.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>S/&MIME;</guilabel
></term>
<listitem>
<para
>Этот формат — это альтернатива OpenPGP/&MIME;. При использовании этого формата будут подписаны и зашифрованы текст и все вложения письма (по умолчанию). Этот формат используется чаще всего большими компаниями. Он основывается на сертификате x.509, а не на ключе PGP / GPG.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Прозрачный S/&MIME;</guilabel
></term>
<listitem>
<para
>Этот формат — это вариант формата S/&MIME;. Поскольку он объединяет письмо, вложения и цифровую подпись в один объект &MIME;, он требует больших ресурсов процессора и должен использоваться только при необходимости.</para
></listitem>
</varlistentry>
</variablelist>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="html-mails">
<title
>Создание писем в формате &HTML;</title>

<para
>Обратите внимание, что письма в формате &HTML; раздражают большинство людей, поэтому рекомендуется использовать такой формат разумно. В частности, не следует отправлять письма в формате &HTML; получателям в списках рассылки, если только письма в таком формате не разрешены в явном виде.</para>

<para
>Для создания писем в формате &HTML; необходимо сначала включить инструменты разметки. Чтобы сделать это, включите функцию <guimenuitem
>Редактирование с форматированием</guimenuitem
> в меню <menuchoice
><guimenu
>Параметры</guimenu
></menuchoice
> или нажмите значок <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="preferences-desktop-font.png" format="PNG"/></imageobject
></inlinemediaobject
> Текст с форматированием</guiicon
> на панели инструментов &kmail;. Появится дополнительная панель инструментов с некоторыми инструментами форматирования. С помощью панели инструментов &HTML; возможно выбрать стандартный текст или маркированные/нумерованные списки (используйте раскрывающийся список <guilabel
>Нет <inlinemediaobject
><imageobject
> <imagedata fileref="go-down.png" format="PNG"/></imageobject
></inlinemediaobject
></guilabel
> на левом краю панели инструментов для управления стилем маркированных/нумерованных списков). Возможно также настраивать тип шрифта, размер, стиль (полужирный, курсив, подчёркнутый или зачёркнутый) и цвет текста и фона. Возможно указать выравнивание текста (по левому краю, по центру, по правому краю, по ширине) и вставить метки привязки (ссылки), горизонтальные линии, изображения, таблицы и произвольный &HTML;-код (хотя поддержка некоторых более продвинутых &HTML;-тегов всё ещё неполная).</para>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="attachments">
<title
>Добавление вложений</title>

<para
>Возможно приложить к письму файлы, используя любой из перечисленных ниже методов:</para>

<itemizedlist>
<listitem>
<para
>Выберите файл в раскрывающемся списке <menuchoice
><guimenu
>Вложение</guimenu
><guisubmenu
>Вложить &gt;</guisubmenu
></menuchoice
>.</para>
</listitem>
<listitem>
<para
>Нажмите кнопку <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="mail-attachment.png" format="PNG"/> </imageobject
></inlinemediaobject
> Вложить </guiicon
> и выберите файл, который следует вложить.</para>
</listitem>
<listitem>
<para
>Перетащите файл с рабочего стола или другого каталога в окно редактора;</para
> 
</listitem>
<listitem>
<para
>Перенесите письмо из панели заголовков в окно редактора;</para>
</listitem>
<listitem>
<para
>Выберите одну из дополнительных опций в меню <menuchoice
><guimenu
>Вложение</guimenu
></menuchoice
> или</para>
</listitem>
<listitem>
<para
>Выберите <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
><inlinemediaobject
><imageobject
> <imagedata fileref="document-open.png" format="PNG"/></imageobject
></inlinemediaobject
>Вставить текстовый файл...</guimenuitem
></menuchoice
> или <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
><inlinemediaobject
><imageobject
><imagedata fileref="document-open.png" format="PNG"/> </imageobject
></inlinemediaobject
>Последние вставленные файлы &gt;</guimenuitem
></menuchoice
>.</para>
</listitem>
</itemizedlist>

<para
>При вложении файла в письмо он появляется на панели вложений в нижней части окна редактора. Доступно контекстное меню, вызываемое щелчком правой кнопкой мыши по вложению и содержащее такие пункты как <guimenuitem
>Открыть в...</guimenuitem
>, <guimenuitem
>Открыть</guimenuitem
>, <guimenuitem
>Редактировать</guimenuitem
>, <guimenuitem
>Обновить</guimenuitem
>, <guimenuitem
>Сохранить как...</guimenuitem
> или <guimenuitem
>Удалить</guimenuitem
> вложение (содержание контекстного меню зависит от типа файла). Отображение некоторых функций (Сжать/Зашифровать/Пописать/Предложить автоматический показ) зависят от настраиваемых для каждого файла параметров.</para>

<para
>Используйте пункт меню <guimenuitem
>Свойства</guimenuitem
> в контекстном меню для открытия диалога <guilabel
>Свойства вложения</guilabel
>. Первое поле содержит &MIME;-тип вложения. Как и поле <guilabel
>Имя</guilabel
>, оно автоматически будет заполнено соответствующим значением. Иногда тип &MIME; может определяться неверно, в таком случае возможно ввести любой тип &MIME; или выбрать его вручную из списка. Также возможно выбрать способ кодирования вложения (обычно всё отлично работает с настройкой по умолчанию). Чтобы предложить получателю автоматический показ вложения в теле письма, установите флажок <guilabel
>Предложить автоматический показ</guilabel
>.</para>

<para
>Также возможно приложить к письму открытые ключи с помощью соответствующих опций в меню <menuchoice
><guimenu
>Вложение</guimenu
></menuchoice
>. Ключи <application
>GnuPG</application
> и сертификаты x.509 (обычно) обрабатываются как вложения.</para>

</sect2>

<sect2 id="checking-the-spelling-of-your-message">
<title
>Проверка орфографии письма</title>

<para
>&kmail; автоматически проверяет правописание и выделяет незнакомые слова красным цветом. Если таких слов слишком много, &kmail; выключит проверку. Чтобы выбрать язык для проверки правописания, воспользуйтесь меню <menuchoice
><guimenu
>Вид</guimenu
> <guimenuitem
>Словарь</guimenuitem
></menuchoice
>. Чтобы отключить автоматическую проверку правописания, воспользуйтесь меню <menuchoice
><guimenu
>Параметры</guimenu
></menuchoice
>.</para>
<para
>Если требуется написать письмо на другом языке, включите раскрывающийся список <guilabel
>Словарь:</guilabel
> в меню <menuchoice
><guimenu
>Вид</guimenu
> <guimenuitem
>Словарь</guimenuitem
></menuchoice
>. Этот раскрывающийся список позволяет сменить язык для проверки орфографии по щелчку мыши. </para>
<para
>Чтобы проверить орфографию письма с помощью соответствующего диалога, воспользуйтесь пунктом меню <menuchoice
><guimenu
>Сервис</guimenu
> <guimenuitem
>Проверка орфографии...</guimenuitem
></menuchoice
>. Для проверки орфографии &kmail; использует программу &sonnet; — оболочка &kde; для программ проверки орфографии <application
>Aspell</application
>, <application
>Hspell</application
>, <application
>Enchant</application
> и <application
>HUNSPELL</application
>. Обратите внимание, что, возможно, сначала потребуется настроить параметры проверки орфографии с помощью пункта меню <menuchoice
><guimenu
>Настройка</guimenu
> <guimenuitem
>Проверка орфографии...</guimenuitem
></menuchoice
>.</para>

</sect2>

<sect2 id="setup-text-snippets">
<title
>Настройка инструмента вставки фраз</title>
<para
>При написании писем в окне редактора возможно сохранять часто используемые части текста в качестве фраз. Чтобы настроить возможность вставки фраз, воспользуйтесь пунктом меню <menuchoice
> <guimenu
>Вид</guimenu
> <guimenuitem
>Фразы</guimenuitem
> </menuchoice
>. Появится новая панель на правой стороне редактора. </para>
<para
>Чтобы добавить новые фразы на панель, щёлкните по панели правой кнопкой мыши и в открывшемся контекстном меню выберите вариант <menuchoice
><guimenu
>Добавить фразу...</guimenu
></menuchoice
>. Откроется диалог редактора фраз, позволяющий ввести текст и название фразы, а также назначить для неё <guilabel
>Комбинацию клавиш</guilabel
>. Фразы возможно объединять в группы. Чтобы добавить, изменить или удалить фразы из сохранённого набора, воспользуйтесь контекстным меню, вызываемым щелчком правой кнопкой мыши по фразе. </para>
<para
>Инструмент <guilabel
>Фразы</guilabel
> позволяет вставлять определённые фразы-переменные в указанных местах в письме. Для этого инструмент <guilabel
>Фразы</guilabel
> предлагает собственный механизм переменных. Переменные возможно вставить в текст фраз вручную с помощью разделителя ( $ ). Например: $variablename$, $invoicenumber$, $weekno$. </para>
<para
>Разделитель переменных возможно заменить на другой символ, изменив строку <varname
>snippetDelimiter</varname
> в разделе [SnippetPart] конфигурационного файла, который находится по адресу ~./config/kmailsnippetrc. <programlisting
>snippetDelimiter=$
</programlisting>

</para>

</sect2>
<sect2 id="using-the-translator">
  <title
>Использование встроенного переводчика</title>
  <para
>Редактор писем &kmail; 2 имеет встроенный переводчик, который вызывается с помощью пункта меню  <menuchoice
><guimenu
>Сервис</guimenu
><guimenuitem
>Переводчик</guimenuitem
></menuchoice
>. В нижней части окна редактора появится новая панель.</para>
    <para
>Чтобы перевести фрагмент текста, выделите этот фрагмент и перетащите его в поле с надписью <guilabel
>Перетащите сюда текст, который нужно перевести.</guilabel
>. В раскрывающемся списке <guilabel
>С языка:</guilabel
> выберите язык, с которого требуется произвести перевод, а в раскрывающемся списке <guilabel
>На язык:</guilabel
> — язык, на который следует перевести, затем нажмите кнопку <guibutton
>Перевести</guibutton
>. После перевода с помощью Google Translate, бесплатного онлайн-сервиса, переведённый тест появится в соседнем окне. Если требуется перевести в обратном направлении, нажмите кнопку <guibutton
>Наоборот</guibutton
>. Чтобы очистить весь текст, нажмите кнопку <guibutton
>Очистить</guibutton
>. </para>
</sect2>
</sect1>

<sect1 id="folders">
<title
>Папки писем</title>
<screenshot>
<screeninfo
>Пример свойств папки</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="folder-example.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Пример свойств папки</phrase>
    </textobject>
    <caption>
      <para
>Папки &kmail; по умолчанию.</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->
<para
>Папки писем предназначены для организации электронных писем. При первом запуске &kmail; автоматически создаются <quote
>Локальные папки</quote
>, такие как <guilabel
>Входящие</guilabel
>, <guilabel
>Исходящие</guilabel
>, <guilabel
>Отправленные</guilabel
>, <guilabel
>Корзина</guilabel
>, <guilabel
>Черновики</guilabel
> и <guilabel
>Шаблоны</guilabel
>. Каждая папка имеет особое назначение.</para>
<variablelist>
<varlistentry>
<term
><guilabel
>Входящие:</guilabel
></term>
<listitem>
<para
>Здесь &kmail; по умолчанию сохраняет новые письма при проверке почты. </para
><note
><para
>Эта папка входящих писем не будет использоваться учётными записями &IMAP;. Папка для входящих писем для такой учётной записи будет храниться на сервере &IMAP;.</para
></note>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Исходящие:</guilabel
></term>
<listitem>
<para
>Здесь будут храниться письма, ожидающие отправки. В эту папку нельзя просто перетаскивать письма, чтобы их отправить, для отправки следует использовать кнопку <guiicon
><inlinemediaobject
> <imageobject
><imagedata fileref="mail-send.png" format="PNG"/> </imageobject
></inlinemediaobject
> Отправить</guiicon
> в окне редактора.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><guilabel
>Отправленные:</guilabel
></term>
<listitem>
<para
>По умолчанию в этой папке хранятся копии отправленных писем.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><guilabel
>Корзина:</guilabel
></term>
<listitem>
<para
>По умолчанию содержит удалённые пользователем письма.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><guilabel
>Черновики:</guilabel
></term>
<listitem>
<para
>Содержит письма, которые пользователь начал создавать, но затем сохранил в папку с помощью меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Сохранить как черновик</guimenuitem
></menuchoice
>.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><guilabel
>шаблоны:</guilabel
></term>
<listitem>
<para
>В этой папке хранятся шаблоны, созданные с помощью пункта меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Сохранить как шаблон</guimenuitem
></menuchoice
> в окне редактора писем. Более подробная информация содержится в пункте <link linkend="new-compose-from-templates"
>«Создание письма из шаблона»</link
>.</para>
</listitem
></varlistentry>
</variablelist>
<para
>&nbsp;</para
> <!-- whitespace -->
<sect2 id="folder-details">
<title
>Создание и использование папок</title>

<para
>Упорядочите свои письма (например, списки рассылки, счета и чеки), создавая для них новые папки. Чтобы создать новую папку, воспользуйтесь пунктом панели меню <menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Создать папку...</guimenuitem
></menuchoice
> или пунктом контекстного меню, вызываемого щелчком правой кнопкой мыши,  <guimenuitem
>Создать папку...</guimenuitem
>. Появится диалог, в окне которого потребуется ввести имя папки. Чтобы изменить параметры папки, щёлкните по ней правой кнопкой мыши в панели папок и в открывшемся контекстном меню выберите пункт <guimenuitem
>Свойства папки</guimenuitem
>. Более подробная информация содержится в разделе <link linkend="folders-properties-window"
>«Свойства папки»</link
>.</para>

<para
>Чтобы переместить письма из одной папки в другую, выделите нужные письма и нажмите английскую клавишу <keycap
>M</keycap
>, либо воспользуйтесь пунктом меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Переместить письмо в... &gt;</guimenuitem
></menuchoice
>. Появится список папок. Выберите из списка ту, в которую требуется переместить письма. Письма также возможно перемещать с помощью перетаскивания из списка писем в требуемую папку, либо с помощью контекстного меню, вызываемого щелчком правой кнопкой мыши по письму.</para>

<para
>Если есть папки, к которым приходится слишком часто обращаться, добавьте их на панель избранных папок (над общим списком папок), щёлкнув по нужной папке правой кнопкой мыши и в открывшемся контекстном меню выбрав пункт <guimenuitem
>Добавить в избранные папки</guimenuitem
>.</para>

<para
>Возможно создать виртуальную папку по определённым критериям поиска с помощью пункта меню <menuchoice
><guimenu
>Сервис</guimenu
> <guimenuitem
>Поиск писем...</guimenuitem
></menuchoice
> или клавиши <keycap
>S</keycap
>. В открывшемся диалоге укажите параметры поиска. Укажите название поиска в текстовом поле <guilabel
>Имя для папки поиска:</guilabel
>, например<replaceable
>письма со словом «Блог»</replaceable
>, затем нажмите кнопку <guibutton
>Поиск</guibutton
>. Затем нажмите кнопку <guibutton
>Открыть папку поиска</guibutton
>. Откроется папка с результатами поиска в конце списка на панели папок (по умолчанию каждый новый поиск будет называться «Последний поиск». Возможно сохранить определённые параметры поиска, связав с поиском особое название с помощью способа, описанного выше).</para>

<para
>Создание фильтров для автоматической сортировки писем по спискам рассылки, адресам отправителя, темам и так далее — это отличный способ для работы с почтой. Более подробная информация содержится в разделе <link linkend="filters"
>«Фильтрация писем»</link
>.</para>

<para
>Если иногда приходят письма из надёжного источника (например, из блога), который использует письма в формате &HTML;, для такого источника возможно включить отображение &HTML;. Чтобы сделать это, создайте новую папку и установите <link linkend="filters"
>фильтр</link
> для перемещения всех писем из блога в эту папку: выберите нужную папку и воспользуйтесь пунктом меню <menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Формат письма по умолчанию &gt;</guimenuitem
> <guimenuitem
>Обрабатывать &HTML;-код в письмах</guimenuitem
></menuchoice
>.</para>
<para
>&nbsp;</para
> <!-- whitespace -->

<para
>Основные действия с папками:</para>
<variablelist>
<varlistentry>
<term
><menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Удалить все письма в корзину</guimenuitem
></menuchoice
></term>
<listitem>
<para
><action
>Переместить</action
> все письма в выбранной папке в корзину.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Архивировать папку</guimenuitem
></menuchoice
></term>
<listitem>
<para
><action
>Создать архивную копию</action
> папки. Более подробная информация содержится в разделе <link linkend="folder-archive"
>«Архивация данных &kmail;»</link
>.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Удалить папку</guimenuitem
></menuchoice
></term>
<listitem>
<para
><action
>Удалить папку</action
> со всеми содержащимися в ней письмами и вложенными папками.</para>
</listitem
></varlistentry>
<varlistentry>
<term
><menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Удалить дубликаты писем</guimenuitem
></menuchoice
></term>
<listitem>
<para
><action
>Найти</action
> в текущей папке дубликаты писем и <action
>удаляет</action
> их.</para>
</listitem
></varlistentry>
</variablelist>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="folders-properties-window">
<title
>Свойства папки</title>
<screenshot>
<screeninfo
>Пример свойств папки</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="folder-properties.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Пример свойств папки</phrase>
    </textobject>
    <caption>
      <para
>Диалог свойств папки</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->
<para
>С помощью диалога <guilabel
>Свойства папки</guilabel
> возможно указать все её свойства. Обратите внимание, что изменение некоторых свойств доступно только для создаваемых вручную папок, а не для папок по умолчанию наподобие <guilabel
>Входящие</guilabel
>. Все шесть папок, созданных программой по умолчанию, переименовывать нельзя.</para>

<sect3 id="folders-properties-general">
<title
>Вкладка «Общие»</title>
<para
>Чтобы переименовать папку, измените поле <guilabel
>Имя:</guilabel
>.</para>

<para
>Функция <guilabel
>Уведомлять о новых письмах в этой папке</guilabel
> по умолчанию включена для всех создаваемых папок. Она включает уведомления о новых письмах, попадающих в эту папку. Чтобы не получать уведомления от таких папок как «Спам» или «Корзина», отключите на этих папках эту функцию.</para>
<para
>Чтобы ответы на письма из определённой папки оставались в ней же вместо перемещения в специальную папку для отправленных, установите флажок <guilabel
>Помещать ответы в эту же папку</guilabel
>.</para>

<para
>Установите флажок <guilabel
>Скрыть эту папку в диалоговом окне выбора папок</guilabel
>, чтобы эта папка не показывалась в таких диалогах выбора папки как, например, <guimenuitem
>Перейти в папку</guimenuitem
> или <guimenuitem
>Переместить письма в</guimenuitem
>.</para>

<para
>Новые письма используют профиль, установленный по умолчанию. Чтобы задать новым папкам другой профиль, снимите флажок <guilabel
>Использовать профиль по умолчанию</guilabel
> и выберите другой с помощью раскрывающегося списка <guilabel
>Профиль отправителя:</guilabel
>. Более подробная информация о профилях содержится в разделе <link linkend="configure-identity"
>настройки профилей</link
>. При ответе на письма, отправленные непосредственно пользователю, будет использован профиль, соответствующий адресу, указанному в поле исходного письма <quote
>Получатель</quote
>.</para>

<!-- <para
>If you have groupware, you can change the contents &eg; calendar, notes, &etc; of the folder in the
<guilabel
>Folder contents:</guilabel
> drop down box.</para>

<para
>If you share the folder with other users, you can <guilabel
>Share unread state with all users</guilabel
> which will show the same unread state for all users.</para>
<informalexample
><para
>For example, a ticket system that all emails must be read and multiple users are responsible for reading unread tickets.</para
></informalexample
> -->  <!-- I cannot find any "groupware" functionality in kmail. @dcb2020291 -->
</sect3>

<sect3 id="folders-properties-view">
<title
>Вкладка «Вид»</title>
<para
>Функция <guilabel
>Другие значки:</guilabel
> позволяет выбрать значки, отличающиеся от используемых по умолчанию в списке папок.</para>
<para
>Раскрывающийся список <guilabel
>Показывать столбцы</guilabel
> позволяет задать видимые столбцы на панели заголовков («По умолчанию», «Отправитель» или «Получатель»). Это может быть полезно при использовании папки для сохранения собственных отправленных писем.</para>
<para
>В разделе <guilabel
>Список писем</guilabel
> возможно настроить <guilabel
>Группировку</guilabel
> и <guilabel
>Тему</guilabel
> для выбранной папки, которые будут отличаться от параметров по умолчанию, указанных в окне настройки &kmail;. Более подробная информация содержится на вкладке <link linkend="configure-appearance-message-list"
>«Список писем»</link
> на странице <guilabel
>Внешний вид</guilabel
>.</para>
<para
>Раздел <guilabel
>Формат письма по умолчанию</guilabel
> позволяет выбирать между обычным отображением письма и отображением в формате &HTML; в этой папке.</para>
</sect3>

<sect3 id="folders-properties-retrieval">
<title
>Вкладка «Синхронизация»</title>
<para
>Если используется учётная запись, которая получает мало писем, поэтому не требуется часто запрашивать сервер, возможно снять флажок <guilabel
>Использовать параметры родительской папки или учётной записи</guilabel
>, чтобы в поле со счётчиком <guilabel
>Периодичность автоматической синхронизации:</guilabel
> установить более длительный интервал.</para>
<para
><guilabel
>Параметры синхронизации</guilabel
> позволяют изменить параметр <guilabel
>Всегда загружать письма полностью</guilabel
> на <guilabel
>Загружать содержимое писем по необходимости</guilabel
>, если используется медленное соединение. В поле со счётчиком возможно указать, как долго письмо будет храниться локально. </para>
</sect3>

<sect3 id="folders-properties-templates">
<title
>Вкладка «Шаблоны»</title>
<para
>Эта вкладка позволяет указать шаблоны для собственных папок. Более подробная информация содержится на вкладке <link linkend="configure-composer-standard-templates"
>«Шаблоны»</link
> на странице <guilabel
>Редактор писем</guilabel
>. </para>
</sect3>

<sect3 id="folders-properties-expiry">
<title
>Вкладка «Устаревание»</title>
<para
>Возможно настроить автоматическую очистку или удаление электронных писем. Установите соответствующий флажок для автоматического удаления прочитанных или непрочитанных писем. В поле со счётчиком укажите количество дней. Чтобы не удалять письма навсегда, возможно назначить папку для их хранения с помощью текстового поля <guilabel
>Перемещать устаревшие письма в:</guilabel
>. Чтобы безвозвратно удалить просмотренное письмо, перейдите к параметрам истечения срока папки, в которую оно было перемещено, и установите опцию <guilabel
>Удалять устаревшие письма навсегда</guilabel
>, затем нажмите кнопку <guibutton
>Сохранить параметры и обработать сейчас</guibutton
>. </para>
<warning
><para
>Удалённые письма невозможно восстановить, поэтому используйте эту настройку с осторожностью.</para
></warning>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect3>

<sect3 id="folders-properties-mailinglist">
<title
>Вкладка «Список рассылки»</title>

<para
>Если требуется папка для списка рассылки, откройте диалог <guilabel
>Свойства папки</guilabel
> с помощью меню <menuchoice
><guimenu
>Папка</guimenu
> <guimenuitem
>Списки рассылки...</guimenuitem
> </menuchoice
>. Установите флажок <guilabel
>Папка содержит список рассылки</guilabel
>, а затем нажмите кнопку <guilabel
>Определить автоматически</guilabel
>. &kmail; попытается получить некоторые сведения о списке рассылки по выделенному письму. Если &kmail; не удастся определить некоторые адреса, отсутствующую информацию можно будет добавить вручную. Чтобы сделать это, выберите нужные параметры в категории <guilabel
>Тип адреса</guilabel
>.</para>
<variablelist>
<varlistentry id="folders-properties-mailinglist-post">
<term
><guilabel
>Отправка</guilabel
></term>
<listitem>
<para
>Адрес, на который нужно писать в список рассылки.</para>
</listitem
></varlistentry>
<varlistentry id="folders-properties-mailinglist-subscribe">
<term
><guilabel
>Подписка</guilabel
></term>
<listitem>
<para
>Этот адрес используется для подписки на список рассылки. Это может быть адрес электронной почты или адрес страницы в Интернете.</para>
</listitem
></varlistentry>
<varlistentry id="folders-properties-mailinglist-unsubscribe">
<term
><guilabel
>Отписка</guilabel
></term>
<listitem
><para
>Этот адрес используется для отписки от списка рассылки. Это может быть адрес электронной почты или адрес страницы в Интернете.</para>
</listitem
></varlistentry>
<varlistentry id="folders-properties-mailinglist-archive">
<term
><guilabel
>Архив</guilabel
></term>
<listitem
><para
>Этот адрес используется для архивирования списка рассылки. Обычно это адрес страницы в Интернете.</para>
</listitem
></varlistentry>
<varlistentry id="folders-properties-mailinglist-help">
<term
><guilabel
>Справка</guilabel
></term>
<listitem>
<para
>Адрес для получения списка доступных команд по управлению списком</para>
</listitem
></varlistentry>
</variablelist>

<para
>Выбрав <guilabel
>Тип адреса</guilabel
>, введите сам адрес электронной почты или страницы в Интернете и нажмите <guilabel
>Добавить</guilabel
>. Чтобы удалить адрес, воспользуйтесь кнопкой <guilabel
>Удалить</guilabel
>.</para>

<para
>После добавления всех адресов можно будет выполнить какое-либо действие, например, перейти к архиву списка рассылки, выбрав соответствующий <guilabel
>Тип адреса</guilabel
> и нажав кнопку <guilabel
>Выполнить действие</guilabel
>. Если для действия указан и адрес электронной почты, и адрес страницы в Интернете, потребуется сначала выбрать <guilabel
>Предпочитаемое действие</guilabel
>. Чтобы отправить письмо на адрес электронной почты, выберите вариант <guilabel
>KMail</guilabel
>, а чтобы перейти на страницу в Интернете, выберите вариант <guilabel
>Браузер</guilabel
>.</para>

<para
>Также возможно отправить письмо в рассылку с помощью пункта меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Отправить в список рассылки...</guimenuitem
></menuchoice
> (вместо <guilabel
>Выполнить действие</guilabel
>).</para>
</sect3>

<sect3 id="folders-properties-shortcut">
<title
>Вкладка «Комбинация клавиш»</title>
<para
>Здесь возможно указать комбинацию клавиш для доступа к папке.</para>
</sect3>

<sect3 id="folders-properties-maintainance">
<title
>Вкладка «Обслуживание»</title>
<para
>Эта вкладка отображает информацию о типе папки, её размере, количество прочитанных и непрочитанных писем и позволяет включить индексирование текста.</para>
</sect3>

<sect3 id="folders-properties-quota">
<title
>Вкладка «Ограничение» (только &IMAP;)</title>
<para
>Эта вкладка показывает, сколько места было выделено для учётной записи сервером &IMAP;, а также сколько выделенного пространства используется в данный момент. </para>
</sect3>

<sect3 id="folders-properties-acl">
<title
>Контроль доступа (только &IMAP;)</title>
<para
>Здесь возможно управлять списками контроля доступа  (&acl; — access control lists) используемых &IMAP;-папок.</para>
<note
><para
>Чтобы эта вкладка отображалась, на сервере &IMAP; должны быть настроены списки управления доступом (&acl;) на уровне пользователя.</para
></note>
<para
>Текущий активный &acl;  будет показан в списке. Этот список состоит из пар <guilabel
>Идентификатор пользователя</guilabel
> — <guilabel
>Права доступа</guilabel
>, предоставленные пользователю этим идентификатором. <footnote
> <para
>Обратите внимание, что <guilabel
>Идентификатор пользователя</guilabel
> может принадлежать нескольким пользователям. В зависимости от сервера &IMAP; и его конфигурации, идентификаторы могут принадлежать группам, анонимным пользователям или вообще всем. Обратитесь к документации используемого сервера &IMAP; для более подробной информации.</para
> </footnote
> &acl; возможно настраивать для каждой папки отдельно.</para>
 <note
><para
>Если используется <emphasis
>отключённый ящик &IMAP;</emphasis
>, для вступления изменений в силу потребуется синхронизация с сервером.</para
></note>
<para
>Списки контроля доступа &IMAP; содержат информацию о предоставленных различным пользователям правах. В &kmail; права разного уровня доступа представлены пятью категориями (подробнее: <xref linkend="table-acl-summary"/>).</para>
<variablelist>
<varlistentry id="folders-properties-acl-none">
<term
><guilabel
>Нет</guilabel
></term>
<listitem>
<para
>Не давать никаких прав пользователям с данным идентификатором. Это также по умолчанию для идентификаторов, отсутствующих (или указанных в качестве группы) в списке.</para>
</listitem
></varlistentry>
<varlistentry id="folders-properties-acl-read">
<term
><guilabel
>Чтение</guilabel
></term>
<listitem>
<para
>Передавать пользователям с данным идентификатором право на чтение папки. Это также включает возможность отмечать письма как прочитанные. <footnote
> <para
>Каждый пользователь имеет свой список прочитанных писем, так что если письмо отмечено как прочитанное, значит оно действительно было прочитано самим пользователем.</para>
</footnote>
</para>
<para
>Эти пользователи увидят эту папку в списке папок &IMAP;, представленных им их почтовыми клиентами.</para>
<para
> Этот пункт следует использовать для создания общей папки, письма из которой все могут прочитать, но не могут изменять их.</para>
<informalexample>
<para
>Например, редактор новостной ленты компании может создать папку и дать всем пользователям право на её чтение, чтобы выкладывать туда новости вместо того, чтобы рассылать их всем.</para>
</informalexample>
</listitem
></varlistentry>
<varlistentry id="folders-properties-acl-append">
<term
><guilabel
>Дополнение</guilabel
></term>
<listitem>
<para
>(также известно как <guilabel
>Отправление</guilabel
>)</para>
<para
>Передаёт пользователям с данным идентификатором право на чтение и отправку.</para>
<para
>Эта опция позволяет создавать общую папку, которой могут пользоваться другие люди для чтения и отправки писем, но изменять её не смогут.</para>
<informalexample>
<para
>Если требуется создать форум для обсуждения вопросов работы компании, вместо использования веб-форума или отдельного частного сервера usenet возможно создать несколько папок (по одной на дискуссию) и предоставить всем пользователям право на чтение и отправку писем в этих папках. Вместо отправки сообщений на сервер &nntp; или на веб-форум, участникам дискуссий достаточно будет просто написать электронное письмо и сохранить его в папку, которая соответствует теме письма.</para>
</informalexample>
</listitem
></varlistentry>
<varlistentry id="folders-properties-acl-write">
<term
><guilabel
>Запись</guilabel
></term>
<listitem>
<para
>Передаёт пользователям с данным идентификатором право на чтение, отправку и запись.</para>
<para
>Это включает удаление сообщений, создание вложенных папок, а также установку атрибутов, отличных от «прочитанное»/«непрочитанное» (например, «отвеченное»).</para>
<para
>Воспользуйтесь этим для создания общей папки, в которой все (почти <xref linkend="folders-properties-acl-all"/>) будут иметь одинаковые права.</para>
<informalexample>
<para
>В примере <xref linkend="folders-properties-acl-append"/> возможно назначить права записи группе людей, выбранных в качестве модераторов, которые смогут удалять письма не по теме и создавать папки для подтем.</para>
</informalexample>
</listitem
></varlistentry>
<varlistentry id="folders-properties-acl-all">
<term
><guilabel
>Все</guilabel
></term>
<listitem>
<para
>Передаёт пользователям с данным идентификатором полные права: чтение, отправку, запись и административные функции, например, право изменять список контроля доступа.</para>
<para
>Это набор прав по умолчанию для владельца папки.</para>
</listitem
></varlistentry>
</variablelist>
<para
><xref linkend="table-acl-summary"/> подытоживает права папок &IMAP; по каждому уровню доступа.</para>
<table id="table-acl-summary">
<title
>Права в списках контроля доступа</title>
          <tgroup cols="6">
            <thead>
              <row>
                <entry
>Право</entry>
                <entry
><xref linkend="folders-properties-acl-none"/></entry>
                <entry
><xref linkend="folders-properties-acl-read"/></entry>
                <entry
><xref linkend="folders-properties-acl-append"/></entry>
                <entry
><xref linkend="folders-properties-acl-write"/></entry>
                <entry
><xref linkend="folders-properties-acl-all"/></entry>
              </row>
            </thead>
            <!--tfoot/-->
            <tbody>
              <row>
                <entry
>Получение сведений</entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Чтение</entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Сохранение просмотренного</entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Вставка</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Отправка</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Запись отметок</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Создание</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Удаление</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
                <entry
>x</entry>
              </row>
              <row>
                <entry
>Администрирование</entry>
                <entry
></entry>
                <entry
></entry>
                <entry
></entry>
                <entry
></entry>
                <entry
>x</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
</sect3>

</sect2>
</sect1>

<sect1 id="filters">
<title
>Фильтрация писем</title>
<anchor id="filters-id"/>
<screenshot>
<screeninfo
>Диалог создания правил фильтрации</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="filter-dialog.png" format="PNG"/>
    </imageobject>
    <textobject>
      <phrase
>Диалог создания правил фильтрации</phrase>
    </textobject>
    <caption>
      <para
>Диалог создания правил фильтрации</para>
    </caption>
  </mediaobject>
</screenshot>
<para
>&nbsp;</para
> <!-- whitespace -->

<para
>Спустя некоторое время с начала использования &kmail; пользователь может заметить, что ему уже трудно сортировать новые письма. Фильтры позволяют автоматически производить некоторые действия над входящими письмами и вручную производить действия над выбранными письмами.</para>

<para
>Правила фильтрации состоят из строки поиска, которая определяет, будет ли фильтр применён к данному письму, и списка действий, описывающих, что должно быть сделано с письмом при нахождении строки поиска в письме.</para>

<note
><para
>Правила фильтрации перебираются один за другим, начиная с первого в списке. Выполняется первое правило, строка поиска которого была найдена в данном письме. Возможно сделать так, что остальные фильтры также будут применены, но по умолчанию обработка останавливается после первого подходящего правила фильтрации. </para
></note>

<para
>Обычно фильтры применяются к входящим письмам, но их также возможно применить и к отправленным или к любому письму или группе писем. Чтобы выборочно отфильтровать письма, выберите их списке и нажмите комбинацию клавиш <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
> </keycombo
> или воспользуйтесь пунктом меню <menuchoice
><guimenu
>Письмо</guimenu
> <guimenuitem
>Применить фильтр</guimenuitem
></menuchoice
>. Это применит к письмам все фильтры, отмеченные для использования в ручной фильтрации в диалоге <link linkend="filter-dialog"
>«Правила фильтрации»</link
>.</para>

<sect2 id="filter-quick">
<title
>Быстрое создание правил фильтрации</title>

<para
>Существует два способа создания правил фильтрации. Быстрый способ — это выбрать пункт меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Создать фильтр</guimenuitem
></menuchoice
> и выбрать критерий фильтрации во вложенном меню. Откроется диалог фильтрации с уже заданной строкой поиска и действием <guilabel
>Переместить в папку</guilabel
>. В большинстве случаев всё, что нужно сделать, это выбрать папку, в которую должно быть перемещено письмо. Также возможно отредактировать фильтр на своё усмотрение.</para>

<para
>При создании фильтра для писем списка рассылки этот метод попытается найти критерий, по которому однозначно будут идентифицироваться письма из списка. Если название списка рассылки удастся определить, оно будет отображаться в пункте меню <menuchoice
><guimenu
>Письмо</guimenu
><guisubmenu
>Создать фильтр</guisubmenu
><guimenuitem
>Фильтровать по списку рассылки...</guimenuitem
></menuchoice
>.</para>

<para
>Второй способ заключается в создании правила фильтрации с нуля вручную, вызвав диалог <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить фильтры...</guimenuitem
></menuchoice
>. Он подробно описан в следующем подразделе.</para>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="filter-dialog">
<title
>Диалог создания правил фильтрации</title>
<anchor id="filter-dialog-id"/>

<para
>Этот диалог позволяет управлять правилами фильтрации.</para>

<para
>Его возможно открыть с помощью меню <menuchoice
><guimenu
>Письмо </guimenu
><guisubmenu
>Создать фильтр...</guisubmenu
></menuchoice
> или <menuchoice
><guimenu
> Настройка </guimenu
><guimenuitem
>Настроить фильтры...</guimenuitem
></menuchoice
>.</para>

<para
>Диалог разделён на три основных секции на вкладках <guilabel
>Общее</guilabel
> и <guilabel
>Дополнительно</guilabel
>.</para>
<variablelist>
<varlistentry>
<term
><guilabel
>Доступные фильтры</guilabel
></term>
<listitem
><para
>Эта группа содержит список правил фильтрации и несколько кнопок для управления фильтрами. в частности, для создания новых фильтров, перемещения их вверх или вниз по списку, копирования, удаления или переименовывания. При выборе фильтра из списка его свойства будут отображаться в первой части окна диалога.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Условия отбора</guilabel
></term
> <listitem
><para
>Эта группа позволяет редактировать строку, которую должны содержать письма, чтобы к ним был применён фильтр. Здесь возможно выбрать, должны ли подходить все условия или достаточно лишь одного совпадения. Более подробная информация содержится в разделе <link linkend="filter-criteria"
>«Условия поиска»</link
>.</para>

<para
>Нажмите на кнопку <guibutton
>&nbsp;&plus;&nbsp;</guibutton
> для создания нового пустого условия, если требуется задать более сложные условия поиска, либо на кнопку <guibutton
>&nbsp;&minus;&nbsp;</guibutton
>, чтобы удалить выбранное правило. Кнопка <guibutton
>Очистить</guibutton
> очищает список и оставляет только одно пустое правило.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Действия фильтра</guilabel
></term
> <listitem
><para
>Здесь возможно редактировать список действий, производящихся над письмами, которые удовлетворяют условиям поиска. Более подробное описание каждого типа действий содержится в разделе <link linkend="filter-action"
>«Действия фильтра»</link
>.</para>

<para
>Чтобы добавить новое пустое действие (если требуется добавить несколько действий), нажмите на <guibutton
>&nbsp;&plus;&nbsp;</guibutton
>, а чтобы удалить выбранное действие, нажмите на <guibutton
>&nbsp;&minus;&nbsp;</guibutton
>. Кнопка <guibutton
>Очистить</guibutton
> очищает список и оставляет только одно пустое действие.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Дополнительные параметры</guilabel
></term>

<listitem>

<para
>Здесь возможно настроить несколько дополнительных параметров, позволяющих повысить точность отбора писем.</para>

<para
>Первый ряд флажков позволит выбрать, когда будет применён соответствующий фильтр: флажок <guilabel
>Применить этот фильтр к входящим сообщениям:</guilabel
> означает, что фильтр будет применён ко всем входящим письмам (то есть, при нажатии кнопки <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="mail-receive.png" format="PNG"/></imageobject
></inlinemediaobject
> Проверить почту</guiicon
>). Фильтр возможно применить ко всем письмам, ко всем офлайн учётным записям IMAP или к определённым учётным записям входящих писем.</para>
<para
>Флажок <guilabel
>Применять фильтр к отправленным сообщениям:</guilabel
> означает, что фильтр будет применён ко всем исходящим письмам, а флажок <guilabel
>Применить этот фильтр на ручной фильтрации</guilabel
> определяет, стоит ли применять этот фильтр, если выбрана специальная фильтрация (то есть, использован пункт меню <menuchoice
><guimenu
>Письмо</guimenu
> <guimenuitem
>Применить фильтр</guimenuitem
></menuchoice
>).</para>
<para
>Если установлен флажок <guilabel
>Применить этот фильтр к отправленным сообщениям:</guilabel
>, фильтр будет срабатывать <emphasis
>после</emphasis
> отправки письма, и он будет работать только с локальной копией. Если копию получателя тоже требуется изменить, воспользуйтесь функцией <guilabel
>Применять фильтр перед отправкой сообщений</guilabel
>. </para>
<para
>Флажок <guilabel
>Если этот фильтр подходит, то остановите выполнение здесь</guilabel
> позволяет указать, будут ли обрабатываться фильтры после текущего фильтра при совпадении с ним.</para>

<para
>Если установлен флажок <guilabel
>Добавить этот фильтр в меню «Применить фильтр»</guilabel
>, этот фильтр будет добавлен во вложенное меню <menuchoice
><guimenu
>Письмо</guimenu
> <guimenuitem
>Применить фильтр</guimenuitem
></menuchoice
>. Затем этот фильтр можно будет применить к письму или нескольким письмам. При выборе этого параметра возможно дополнительно выбрать комбинацию клавиш и вставить специальный значок для вызова этого фильтра на панели инструментов.</para>

<para
>Также фильтры возможно применить с помощью функции меню <menuchoice
><guimenu
>Письмо</guimenu
> <guimenuitem
>Применить фильтры</guimenuitem
></menuchoice
>, которая применяет <emphasis
>все</emphasis
> фильтры один за другим, пока фильтры не закончатся или пока не будет применён фильтр с функцией <guilabel
>При совпадении этого фильтра остановить выполнение здесь</guilabel
>.</para>

</listitem>
</varlistentry>
</variablelist>

<note
><para
>Имена фильтров генерируются автоматически. Чтобы переименовать фильтр, нажмите кнопку <guibutton
><inlinemediaobject
><imageobject
> <imagedata fileref="document-edit.png" format="PNG"/> </imageobject
></inlinemediaobject
>Переименовать...</guibutton
>. При вводе названия, начинающегося с символа <quote
>&lt;</quote
> будет использовано автоматически сгенерированное имя. </para>

<para
>При сохранении параметров с помощью кнопок <guibutton
>OK</guibutton
> или <guibutton
>Применить</guibutton
> будут сохраняться только правильно составленные правила фильтрации.</para>

<para
>Пустые условия и действия автоматически удаляются соответственно из списка условий и действий перед сохранением.</para>
</note>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="filter-criteria">
<title
>Условия поиска</title>

<para
>Наиболее часто фильтры используются для фильтрования писем по отправителю. Для фильтрации такого типа следует выбрать из списка условий отбора вариант <guilabel
>Отправитель</guilabel
>. Хорошим решением для фильтрования писем из списка рассылки будет выбор условия <guilabel
>Все получатели</guilabel
>, однако существуют также другие условия поиска (чувствительные к регистру символов).</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Всё письмо</guilabel
></term>
<listitem>
<para
>Поиск производится во всём письме (то есть в заголовках, теле письма и во вложениях, если они есть).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Текст письма</guilabel
></term>
<listitem>
<para
>Поиск производится по телу письма (по всему письму кроме заголовков).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Все поля заголовка</guilabel
></term>
<listitem>
<para
>Поиск производится во всех заголовках письма.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Все получатели</guilabel
></term>
<listitem>
<para
>Поиск производится в заголовках <quote
>Кому</quote
> и <quote
>Копия</quote
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Размер в байтах</guilabel
></term>
<listitem>
<para
>Устанавливает верхний и нижний пределы размера письма.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Возраст в днях</guilabel
></term>
<listitem>
<para
>Устанавливает верхний и нижний пределы срока давности письма.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Статус письма</guilabel
></term>
<listitem>
<para
>Устанавливает ограничения на статус письма (Важное / Прочитанное / Непрочитанное и так далее. Подробнее: <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Отметить письмо &gt;</guimenuitem
></menuchoice
>).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Метка письма</guilabel
></term>
<listitem>
<para
>Ищет отмеченные письма. Относится к пункту меню <menuchoice
><guimenu
>Письмо</guimenu
><guimenuitem
>Отметить &gt;</guimenuitem
></menuchoice
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Зашифровано</guilabel
></term>
<listitem>
<para
>Проверяет наличие зашифрованных писем.</para>
</listitem>
</varlistentry>
<varlistentry>
    <term
>Любое другое значение (<guilabel
>Отправитель</guilabel
>, <guilabel
>Кому</guilabel
>, <guilabel
>Дата</guilabel
> и так далее)</term>
<listitem>
<para
>Поиск производится в поле заголовка с этим именем.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Список доступных правил зависит от того, что было выбрано в первом раскрывающемся списке:</para>

<informaltable>
<tgroup cols="3">
<thead>
<row>
<entry
>Правило</entry>
<entry
>Доступно для</entry>
<entry
>Описание</entry>
</row>
</thead>
<tbody>
<row>
<entry
><guilabel
>содержит</guilabel
>/<guilabel
>не содержит</guilabel
></entry>
<entry
>всех текстовых единиц</entry>
<entry
>Поиск писем, элементы которых содержат (или не содержат) заданный текст.</entry>
</row>
<row>
<entry
><guilabel
>равно</guilabel
>/<guilabel
>не равно</guilabel
></entry>
<entry
>большинства текстовых единиц</entry>
<entry
>Поиск писем, элементы которых равны (или не равны) заданному тексту.</entry>
</row>
<row>
<entry
><guilabel
>начинается с</guilabel
>/<guilabel
>не начинается с</guilabel
></entry>
<entry
>большинства текстовых единиц</entry>
<entry
>Совпадает, если искомый элемент начинается (или не начинается) с заданного текста.</entry>
</row>
<row>
<entry
><guilabel
>заканчивается на</guilabel
>/<guilabel
>не заканчивается на</guilabel
></entry>
<entry
>большинства текстовых единиц</entry>
<entry
>Совпадает, если искомый элемент заканчивается (или не заканчивается) заданным текстом.</entry>
</row>
<row>
<entry
><guilabel
>совпадает c рег. выражением</guilabel
>/<guilabel
>не совпадает c рег. выражением</guilabel
></entry>
<entry
>всех текстовых единиц</entry>
<entry
>Часть текста (не) должна совпадать с регулярным выражением. Для составления регулярного выражения возможно воспользоваться кнопкой <guilabel
>Изменить...</guilabel
>.</entry>
</row>
<row>
<entry
><guilabel
>с вложениями</guilabel
>/<guilabel
>без вложений</guilabel
></entry>
<entry
><guilabel
>Всё письмо</guilabel
></entry>
<entry
>Письмо (не) должно содержать вложения.</entry>
</row>
<!-- <row>
<entry
><guilabel
>is in address book</guilabel
>/<guilabel
>is not in address book</guilabel
></entry>
<entry
>most textual search items</entry>
<entry
>Matches if the searched item contains an address that is in your address
book (or if the searched items contains only unknown addresses). Of course,
this rule only makes sense for address fields like From or
<guilabel
>&lt;recipients&gt;</guilabel
></entry>
</row
> --> <!-- Can't find this anywhere. @dcb2020292. -->
<!-- <row>
<entry
><guilabel
>is in category</guilabel
>/<guilabel
>is not in category</guilabel
></entry>
<entry
>most textual search items</entry>
<entry
>Matches if the searched item contains an address that is in the
specified category in your address book (or if the searched item contains
no address that is in the specified category). Again, this rule only makes
sense for address fields.</entry>
</row
> --> <!-- Can't find this anywhere. @dcb2020292. -->
<row>
<entry
><guilabel
>равно</guilabel
>/<guilabel
>не равно</guilabel
></entry>
<entry
>полей с числовым значением</entry>
<entry
>Числовое значение (не) должно совпадать точно.</entry>
</row>
<row>
<entry
><guilabel
>меньше чем</guilabel
></entry>
<entry
>полей с числовым значением</entry>
<entry
>Числовое значение должно быть меньше.</entry>
</row>
<row>
<entry
><guilabel
>больше чем</guilabel
></entry>
<entry
>полей с числовым значением</entry>
<entry
>Числовое значение должно быть больше.</entry>
</row>
<row>
<entry
><guilabel
>меньше или равно</guilabel
></entry>
<entry
>полей с числовым значением</entry>
<entry
>Числовое значение должно быть меньше или равно.</entry>
</row>
<row>
<entry
><guilabel
>больше или равно</guilabel
></entry>
<entry
>полей с числовым значением</entry>
<entry
>Числовое значение должно быть больше или равно.</entry>
</row>
<row>
<entry
><guilabel
>есть</guilabel
>/<guilabel
>нет</guilabel
></entry>
<entry
><guilabel
>Статус письма</guilabel
></entry>
<entry
>Письмо (не) должно иметь указанный статус.</entry>
</row>
<row>
<entry
><guilabel
>позже</guilabel
>/<guilabel
>раньше или равно</guilabel
></entry>
<entry
>Заголовок <guilabel
>Дата</guilabel
></entry>
<entry
>Совпадает, если письмо было отправлено после (до) указанной даты.</entry>
</row>
<row>
<entry
><guilabel
>раньше</guilabel
>/<guilabel
>позже или равно</guilabel
></entry>
<entry
>Заголовок <guilabel
>Дата</guilabel
></entry>
<entry
>Совпадает, если письмо было отправлено до (после) указанной даты.</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="filter-action">
<title
>Действия фильтра</title>

<para
>Фильтры в основном применяются для сортировки входящих писем по разным папкам. Чтобы сделать это, выберите функцию <guilabel
>Переместить в папку</guilabel
>. Возможны следующие действия:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Переместить в папку</guilabel
></term>
<listitem>
<para
>Перемещает письмо в другую папку, удаляя его из текущей.</para>
<!-- fixme: still correct? --><!-- This works in version 5.14.2. Tested @dcb2020293. -->
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Копировать в папку</guilabel
></term>
<listitem>
<para
>Копирует письмо в другую папку, оставляя оригинал в текущей.</para>
<!-- <note
><para
>You currently cannot use &IMAP;
folders as a target.</para
></note
> --><!-- This works in version 5.14.2. Tested @dcb2020293. -->
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Задать профиль</guilabel
></term>
<listitem>
<para
>Задаёт профиль для ответа на данное письмо.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Отметить как</guilabel
></term>
<listitem>
<para
>Позволяет пометить сообщение как прочитанное, важное, перенаправленное, отвеченное и т.д.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Добавить метку</guilabel
></term>
<listitem>
<para
>Эта функция позволяет добавить метку к письму. Возможно выбрать метку и списка всех меток, которые были созданы.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Отправить поддельное уведомление о доставке письма</guilabel
></term>
<listitem>
<para
>Отправляет поддельное уведомление об обработке, то есть, возможно выбрать действие, которое было якобы совершено по отношению к письму.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Задать метод отправки</guilabel
></term>
<listitem>
<para
>Задаёт метод отправки (например, &SMTP;) для ответа на письмо. Возможно выбрать один вариант из списка всех учётных записей электронной почты для отправки.</para>
</listitem>
</varlistentry
> 
<varlistentry>
<term
><guilabel
>Задать адрес для ответа</guilabel
></term>
<listitem
><para
>Изменяет заголовок <guilabel
>Адрес для ответа</guilabel
>. Может быть полезно для письма из списка рассылки, автоматически устанавливающего нежелательный заголовок «Адрес для ответа».</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Переслать по адресу</guilabel
></term>
<listitem
><para
>Пересылает письмо в тексте (например, как при использовании функции <menuchoice
><guimenu
>Письмо</guimenu
> <guimenuitem
>Переслать</guimenuitem
><guimenuitem
>В тексте нового письма...</guimenuitem
></menuchoice
>) на другой адрес. Возможно выбрать свой шаблон для пересылки письма, если такой есть. Если установлен &kaddressbook;, во всплывающем окне возможно выбрать функцию <quote
>Переслать по адресу...</quote
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Перенаправить по адресу</guilabel
></term>
<listitem
><para
>Перенаправляет письмо на другой электронный адрес. Если установлен &kaddressbook;, во всплывающем окне возможно выбрать функцию  <quote
>Перенаправить по адресу</quote
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Подтвердить доставку</guilabel
></term>
<listitem
><para
>Отправит отправителю письма подтверждение отправки письма, если отправитель запросил такое уведомление.</para
> 
<para
>Это действие позволяет выбрать, кто будет получать подтверждение получения писем. Хотя их отправка может быть включена для всех отправителей в окне <guilabel
>Настроить &kmail;...</guilabel
> (на странице <link linkend="configure-security"
><guilabel
>Безопасность</guilabel
></link
>), рекомендуется не отправлять их всем подряд, так как отправитель сможет легко отследить, например, доставку рекламных сообщений (спама).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Выполнить команду</guilabel
> (только для продвинутых пользователей)</term>
<listitem>
<para
>Это приведёт к выполнению программы, но не изменит письмо. Укажите полный путь к программе, которую требуется выполнить. &kmail; не будет откликаться до завершения программы. Чтобы продолжить нормальное выполнение &kmail;, добавьте «&amp;» в конец команды. Передавать программе части письма возможно через командную строку: <symbol
>&percnt;0</symbol
>, <symbol
>&percnt;1</symbol
> и так далее заменяются файлами, содержащими части письма. В большинстве писем <symbol
>&percnt;0</symbol
> представляет собой текст письма, <symbol
>&percnt;1</symbol
> — первое вложение и так далее. Кроме того, всё письмо передаётся на стандартный ввод программы (<acronym
>stdin</acronym
>). Каждый аргумент вида <symbol
>&percnt;{foo}</symbol
> заменяется значением поля заголовка foo. Чтобы идентифицировать письмо по месту его хранения в базе данных Akonadi, используйте заполнитель %{itemid} или %{itemurl} соответственно.</para>

<!-- fixme: still correct? --><!-- I think so. But not yet tested. @dcb2020293 -->
<warning
><para
>На данный момент это работает только тогда, когда сообщение содержит <emphasis
>по меньшей мере одно</emphasis
> вложение. Если же нет, обычно не будет работать даже <symbol
>&percnt;0</symbol
>.</para
></warning>

<tip
><para
>Возможно можете вводить сколь угодно сложные команды, так как &kmail; использует оболочку для выполнения команд. Поэтому в &kmail; будет работать даже такая команда: <userinput
><command
>uudecode</command
> <option
>-o</option
> <parameter
>$(mktemp kmail-uudecoded.XXXXXX)</parameter
> &amp;&amp; <command
>echo</command
> <parameter
>$'\a'</parameter
></userinput
></para
></tip>
<!-- fixme: is this uudecode tip useless now?? -->
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Пропустить через конвейер</guilabel
></term>
<listitem>
<para
>Письмо передаётся по конвейеру заданной программе. Если программа что-нибудь выводит, всё письмо (включая заголовки) будет заменено выводом программы. Если программа ничего не выводит или завершается с кодом возврата, не равным нулю, письмо не будет изменено. Требуется указать полный путь к программе. В командной строке производятся те же замены (<symbol
>&percnt;n</symbol
>, <symbol
>&percnt;{foo}</symbol
>), что и при действии <guilabel
>Выполнить команду</guilabel
>.</para>
<para
>И мастер антиспама, и мастер антивируса используют действие <quote
>Пропустить через конвейер</quote
> для проверки письма на наличие спама или вируса. Общедоступные программы защиты от нежелательной почты и антивирусные программы возвращают письмо и вставляют дополнительную запись заголовка, если обнаружен спам (или вирус).</para>
<warning
><para
>Используйте это действие с осторожностью, так как письма могут быть повреждены, если программа возвратит мусор или дополнительные строки.</para
></warning>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Удалить заголовок</guilabel
></term>
<listitem>
<para
>Удаляет из сообщения <emphasis
>все</emphasis
> заголовки с указанным именем. Полезно для удаления поддельных заголовков «Reply-To:».</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Добавить заголовок</guilabel
></term>
<listitem>
<para
>Добавляет новый заголовок с указанным именем и значением, если он не существует. Если же заголовок с таким именем уже существует, он заменяется указанным значением. Если существует несколько заголовков с таким именем (например, <quote
>Received:</quote
>), заменяется лишь один из них, выбранный случайным образом, остальные остаются без изменений — это известное ограничение. Возможно, потребуется использовать это действие вместе с действием <guilabel
>Удалить заголовок</guilabel
> для того, чтобы убедиться в отсутствии в письме других заголовков с тем же именем.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Переписать заголовок</guilabel
></term>
<listitem>
<para
>Ищет заданный заголовок сообщения и изменяет его значение. Строка поиска интерпретируется как чувствительное к регистру символов регулярное выражение. Заменяющая строка вставляется в точности, как было указано, исключая выражения <userinput
>\n</userinput
>, <userinput
>$n</userinput
> и <userinput
>${nn}</userinput
>, где <userinput
>n</userinput
> &ndash; неотрицательное число (одна цифра, кроме третьего выражения). Эти конструкции интерпретируются как ссылки на подстроки, заключенные в строке поиска в скобки.</para
><para
>Ограничение, связанное с несколькими одноимёнными заголовками в действии <guilabel
>Добавить заголовок</guilabel
>, также действительно и здесь.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Проиграть звук</guilabel
></term>
<listitem>
<para
>Проигрывает указанный звук. Кнопка «Обзор» позволяет выбрать звуковой файл (например, .wav).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Добавить в адресную книгу</guilabel
></term>
<listitem>
<para
>Если установлен &kaddressbook;, эта функция позволит указать, какой заголовок следует проверить (From, To, CC или BCC), какую метку назначить и в какую адресную книгу сохранить адреса.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Удалить письмо</guilabel
></term>
<listitem>
<para
>Удаляет выбранные письма. Пользуйтесь этой функцией с осторожностью: удалённые письма нельзя будет вернуть.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Сбросить статус</guilabel
></term>
<listitem>
<para
>Эта функция, обратная функции <guilabel
>Пометить как</guilabel
>. Вместо того, чтобы пометить письмо как важное или прочитанное, это действие уберёт все метки.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Шифрование</guilabel
></term>
<listitem>
<para
>Зашифрует выбранные письма указанным открытым ключом. Возможно выбрать любую пару используемых отрытых/закрытых ключей.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Расшифровать</guilabel
></term>
<listitem>
<para
>Расшифрует выбранные письма. Используйте эту функцию с осторожностью. &kmail; автоматически расшифровывает письма при их открытии для просмотра, так что, вероятно, эту функцию даже не придётся использовать самостоятельно.</para>
</listitem>
</varlistentry>
</variablelist>
<para
>&nbsp;</para
> <!-- whitespace -->
</sect2>

<sect2 id="filter-examples">
<title
>Примеры фильтров</title>

<para
>На данный момент &kmail; не выделяет и не отмечает письма, содержащие дополнительный заголовок <replaceable
>Priority:</replaceable
>. Чтобы отметить <quote
>срочные</quote
> письма как <emphasis
>важные</emphasis
>, возможно использовать фильтр:</para>

<procedure>
<title
>Пометка срочных писем как <emphasis
>важные</emphasis
></title>
<step>
<para
>Откройте диалог <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить фильтры...</guimenuitem
></menuchoice
> и нажмите кнопку <guiicon
><inlinemediaobject
><imageobject
><imagedata fileref="document-new.png" format="PNG"/> </imageobject
></inlinemediaobject
> Создать</guiicon
> под списком <guilabel
>Доступные фильтры</guilabel
>.</para>
</step>
<step>
<para
>В области <guilabel
>Критерии фильтра</guilabel
> в раскрывающихся списках выберите вариант <guilabel
>Все поля заголовка</guilabel
> и <guilabel
>содержит</guilabel
> и в текстовом поле введите <userinput
>Priority</userinput
>. Выберите тот же критерий в следующей строке и введите <userinput
>срочно</userinput
> в текстовом поле второго раскрывающегося списка.</para>
<para
>Фильтр будет применён ко всем письмам с заголовком <quote
>Priority: urgent</quote
>.</para>
</step>
<step>
<para
>Следующая область для настройки — <guilabel
>Действия фильтра</guilabel
>. В первом раскрывающемся списке выберите вариант <guilabel
>Отметить как</guilabel
>, а во втором — <guilabel
>Важное</guilabel
>.</para>
</step>
<step>
<para
>Так как этот фильтр <emphasis
>не</emphasis
> подразумевает пропуск остальных фильтров, <emphasis
>снимите флажок</emphasis
> <guilabel
>Если этот фильтр подходит, то остановите выполнение здесь</guilabel
> на вкладке <quote
>Дополнительно</quote
>.</para>
</step>
<step>
<para
>Нажмите <guibutton
>OK</guibutton
>.</para>
<para
>Перемещайте фильтр <quote
>Priority: urgent</quote
> в начало списка <guilabel
>Доступные фильтры</guilabel
> после добавления новых фильтров, чтобы этот фильтр всегда применялся в первую очередь.</para>
</step>
</procedure>

<para
>При подписке на, например, главный список рассылки &kde;, создайте папку (допустим, <replaceable
>KDE-General</replaceable
>) и фильтр автоматического перемещения новых писем из папки «Входящие» в папку <replaceable
>KDE-General</replaceable
>, если они из списка рассылки &kde;. Ниже приводится объяснение, как это сделать.</para>

<procedure>
<title
>Фильтрация писем из списка рассылки</title>
<step>
<para
>Убедитесь, что функция <menuchoice
><guimenu
>Письмо</guimenu
><guisubmenu
>Создать фильтр</guisubmenu
><guimenuitem
>Фильтровать по списку рассылки...</guimenuitem
></menuchoice
> может распознать список рассылки (если может, в этом пункте меню появится название списка рассылки). Если название списка рассылки определилось, будет создан фильтр с уже установленными параметрами <quote
>List-Id <guilabel
>содержит</guilabel
> &lt;kde.kde.org&gt;</quote
>. В области <guilabel
>Действия фильтра</guilabel
> выберите папку назначения, и на этом настройка фильтра закончится.</para>

<para
>Если в пункте меню не указан конкретный список рассылки, найдите признак, по которому возможно определить письма, которые требуется отфильтровать. Свойство, отличающее списки рассылки &kde; — это наличие в них строки <quote
>kde@kde.org</quote
> в поле <guilabel
>Получатель:</guilabel
> или <guilabel
>Копия:</guilabel
>. Этот критерий не работает для писем, отправляемых сразу в несколько списков рассылки.</para>
</step>
<step>
<para
>Выберите <menuchoice
><guimenu
> Настройка </guimenu
><guimenuitem
>Настроить Фильтры...</guimenuitem
></menuchoice
>.</para>
</step>
<step>
<para
>Чтобы создать пустой фильтр, нажмите кнопку <guibutton
><inlinemediaobject
><imageobject
><imagedata fileref="document-new.png" format="PNG"/></imageobject
></inlinemediaobject
></guibutton
>. Он будет назван <guilabel
>&lt;неизвестный&gt;</guilabel
>.</para>
</step>
<step>
<para
>В области <guilabel
>Критерии фильтра</guilabel
> в первом раскрывающемся списке выберите вариант <guilabel
>Все получатели</guilabel
>, во втором — <guilabel
>содержит</guilabel
>, а в текстовом поле введите <userinput
>kde@kde.org</userinput
>.</para>
</step>
<step>
<para
>Далее следует настроить раздел <guilabel
>Действия фильтра</guilabel
>. В первом раскрывающемся списке выберите вариант <guilabel
>Переместить папку</guilabel
>. Нажмите на значок папки, и откроется список, содержащий все папки. Выберите нужную папку, в демонстрируемом примере это <guilabel
>KDE-General</guilabel
>.</para>
</step>
</procedure>

<para
>Возможно, потребуется применить более сложные условия фильтрования писем. Например, возможно отфильтровывать только сообщения из списка рассылки &kde;, написанные пользователем <replaceable
>Иваном Ивановым &lt;ivan@anywhere.com&gt;</replaceable
>. Здесь будет задействована оставшаяся часть группы <guilabel
>Условия отбора</guilabel
>:</para>

<procedure>
<title
>Расширение фильтра</title>
<step>
<para
>Откройте окно <guilabel
>Настроить фильтры...</guilabel
> и выберите только что созданный фильтр.</para>
</step>
<step>
<para
>Так как нужно отсеивать письма, содержащие <replaceable
>kde@kde.org</replaceable
> в поле <guilabel
>Tо:</guilabel
> или <guilabel
>СС:</guilabel
> <emphasis
>и</emphasis
> письма от Ивана, выберите опцию <guibutton
>Совпадает со всеми условиями</guibutton
>.</para>
</step>
<step>
<para
>Перейдите ко второму условию отбора и выберите из раскрывающихся списков <guilabel
>From</guilabel
>, <guilabel
>содержит</guilabel
>. Введите <userinput
>ivan@anywhere.com</userinput
> в текстовое поле.</para>
</step>
</procedure>

<para
>В итоге был создан фильтр, который определяет все письма от <userinput
>ivan@anywhere.com</userinput
> из списка рассылки &kde;.</para>
<para
>&nbsp;</para
> <!-- whitespace -->
<!-- fixme: trigger with ctrl-j or whenever new mail arrives (unless
<guilabel
>Advanced Options</guilabel
> are changed. -->
</sect2>

<sect2 id="filter-optimization">
<title
>Оптимизация использования фильтров</title>

<para
>Важно понимать, что порядок расположения фильтров влияет на скорость процесса фильтрации. Далее представлено несколько идей, которые могут помочь улучшить производительность фильтрации. </para>

<variablelist>
<varlistentry>
<term
>Прерывать фильтрование как можно быстрее:</term>
<listitem>
<para
>Если известно, что фильтр окончательно обрабатывает определённый класс писем, а другие фильтры его никогда не обрабатывают, установите флажок <guilabel
>При соответствии условиям фильтра прервать проверку</guilabel
>. Это позволит после обработки письма такого класса не тратить время на его проверку другими фильтрами (подробнее: параметры  <link linkend="filter-dialog-id"
>диалога фильтров</link
>).</para>
<para
>Примером служит фильтрование писем списков рассылки по заголовку List-Id для распределения по разным папкам. Если письмо принадлежит списку рассылки A, оно не может принадлежать списку B, следовательно незачем проверять так ли это. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
>Учитывать время работы каждого из правил:</term>
<listitem>
<para
>Например, поиск строки по правилу <guilabel
>содержит</guilabel
> работает намного быстрее, чем сравнение с <guilabel
>регулярным выражением</guilabel
>. </para>
<para
>Далее, принимайте во внимание, что проверка поля выполняется быстрее, чем проверка всего письма, так как последнее обычно большего объёма. </para>
<para
>Попытайтесь создавать как можно более простые правила. </para>
</listitem>
</varlistentry>


<varlistentry>
<term
>Проверять порядок фильтров:</term>
<listitem>
<para
>Различные действия фильтра имеют разную степень сложности. Больше всего времени требуется на <guilabel
>Пропустить через конвейер</guilabel
> и <guilabel
>Выполнить команду</guilabel
>, потому что при этом происходит передача управления внешним программам. Рекомендуется располагать такие фильтры как можно ниже в списке, так как это может позволить сократить количество проделываемых сложных действий, если логика фильтра это позволяет.</para
> 
<para
>Примером может служить фильтрация писем из списка рассылки и обнаружение нежелательной почты. Для обнаружения нежелательной почты обычно используется внешний инструмент через опцию <guilabel
>Пропустить через конвейер</guilabel
>. Фильтрация писем из списка рассылки будет осуществляться по заголовку List-Id. Чтобы не проверять письма из списка рассылки на наличие спама, рекомендуется использовать фильтр для писем из списка рассылки перед использованием фильтра для обнаружения нежелательной почты. Таким образом удастся избежать медленной проверки на спам всех писем, относящихся к списку рассылки. </para>
</listitem>
</varlistentry>
</variablelist>
</sect2>

<sect2 id="filter-logging">
<title
>Ведение журнала фильтрования</title>
<para
>Чтобы проверить, работают ли фильтры так, как требуется, воспользуйтесь пунктом меню<menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Журнал фильтра...</guimenuitem
></menuchoice
>. </para>
<para
>В окне просмотра возможно настроить журналирование процесса фильтрации. Возможно настроить детальность журналирования, очистить журнал, ограничить размер журнала или сохранить журнал в файл. Журнал предоставляет ценную информацию для улучшения правил фильтрации. </para>
</sect2>
</sect1>

<sect1 id="backups">
<title
>Архивация данных &kmail;</title>
<para
>В этом разделе описываются различные решения для резервного копирования в &kmail;.</para>
<sect2 id="archiving">
<title
>Архивирование</title>
<variablelist>
<varlistentry id="folder-archive">
<term
><menuchoice
><guimenu
>Папка</guimenu
><guimenuitem
>Архивировать папку...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>Эта функция также доступна через контекстное меню, вызываемого щелчком правой кнопкой мыши, пункт меню <guimenuitem
>Архивировать папку...</guimenuitem
>. Это <action
>откроет диалог</action
>, позволяющий создать архивную копию выделенной папки.</para>
<para
><guilabel
>Папка:</guilabel
> отображает текущую выбранную папку. Чтобы архивировать её, нажмите на значок папки. Раскрывающийся список <guilabel
>Формат:</guilabel
> позволяет выбрать формат архива (zip, tar, tar.bz2 или tar.gz). Чтобы изменить имя или расположение, нажмите на кнопку папки справа от функции <guilabel
>Архивировать файл</guilabel
>.</para>
 <para
>Установите флажок <guilabel
>Удалить папку и вложенные папки после завершения</guilabel
>, чтобы все заархивированные данные были удалены из базы данных &kmail; после сохранения внешнего архива. По умолчанию все вложенные папки будут архивированы. Чтобы архивировались только родительские папки, снимите флажок <guilabel
>Архивировать все вложенные папки</guilabel
>.</para>
</listitem
></varlistentry>
<varlistentry id="auto-archive">
<term
><menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить автоматическое архивирование...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>Это мощный инструмент, который используется для помощи в архивации электронных писем. Более подробная информация содержится в руководстве <ulink url="help:/akonadi_archivemail_agent"
>агента архивирования почты</ulink
>.</para>
</listitem>
</varlistentry>
<!-- <varlistentry id="archive-folder">
<term
><menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Folder Archive Agent...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>This feature allows you to archive single emails to a specified folder.</para>
<para
>Folder Archive can be enabled on a per account basis to allow you to archive individual emails through the right click menu.</para>
<screenshot>
<screeninfo
>Screenshot of Folder Archive</screeninfo>
  <mediaobject>
    <imageobject>
      <imagedata fileref="folderarchiveagent.png" format="PNG"/>
    </imageobject>
  </mediaobject>
</screenshot>
<para
>Folder Archive is used to archive single emails to a specified folder. For instance, you need to archive all of
those pesky bill receipts in one place. Folder Archive can easily accommodate those needs. <action
>Start by
using <menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Folder Archive Agent...</guimenuitem
></menuchoice>
in &kmail;'s reader window to open a dialog to set up the folder archive agent.</action>
</para>

<para
>This dialog will have a tab for each of your configured accounts including Local Folders and you will need to configure all accounts that you wish to
use this feature with. The first option allows you to enable/disable the folder archive agent. It is disabled by default, to enable check the <guilabel
>Enable</guilabel>
checkbox. You can set the location of your Archive folder by clicking the folder icon next to
<guilabel
>Folder:</guilabel
> and selecting the folder you wish to use. For example, you could create
a folder called <quote
>bill receipts</quote
> by clicking the <guibutton
>New Subfolder...</guibutton
> and typing <userinput
>bill receipts</userinput
> in
the dialog. You may choose a folder location anywhere, &eg;.. a folder in your <quote
>Local Folders</quote
> or on your &IMAP; server.</para>
<para>
You have several choices on how the emails will be archived:
</para>
<variablelist id="archivefolder-options">
  <varlistentry>
  <term
><guilabel
>Unique folder</guilabel
></term>
  <listitem
><para
>Uses the selected folder sorted by date.</para
></listitem>
  </varlistentry>
  <varlistentry>
  <term
><guilabel
>Folder by months</guilabel
></term>
  <listitem
><para
>Creates new folders inside the selected folder by months.</para
></listitem>
  </varlistentry>
  <varlistentry>
  <term
><guilabel
>Folder by years</guilabel
></term>
  <listitem
><para
>Creates new folders inside the selected folder by years.</para
></listitem>
  </varlistentry>
</variablelist>
<para>
Now when you receive a bill receipt, &RMB; the email and select <guimenuitem
>Archive</guimenuitem
> from the menu. The email will be archived
into your configured archive folder for easy viewing later on.
</para>
</listitem>
</varlistentry
> --><!-- This feature is no longer available. @dcb2020295 -->
</variablelist
> 
</sect2>
<sect2 id="exporting">
<title
>Экспорт</title>
<variablelist>
<varlistentry id="settingsexport">
<term
><menuchoice
><guimenu
>Сервис</guimenu
><guimenuitem
>Импорт или экспорт данных &kmail;...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>Эта функция позволяет экспортировать параметры и локальную почту в сжатый файл. Более подробная информация содержится в руководстве <ulink url="help:/pimdataexporter"
>«Экспорт данных PIM»</ulink
>.</para>
</listitem>
</varlistentry>
</variablelist>
</sect2>
</sect1>
<sect1 id="import-restore">
<title
>Восстановление и импорт в &kmail;</title>
<para
>В этом разделе описывается восстановление резервных копий и импорт данных в &kmail;.</para>

<sect2 id="restore">
<title
>Восстановление резервной копии писем и параметров</title>
<variablelist>
<varlistentry id="settingsimport">
<term
><menuchoice
><guimenu
>Сервис</guimenu
><guimenuitem
>Экспорт данных &kmail;...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>Если экспорт данных PIM использовался для резервного копирования локальной почты и параметров, используйте его также и для восстановления данных в &kmail;. Более подробная информация содержится в руководстве <ulink url="help:/pimdataexporter"
>«Экспорт данных PIM»</ulink
>.</para>
</listitem
></varlistentry>
</variablelist>
</sect2>

<sect2 id="importing-options">
<title
>Функции импорта в &kmail;</title>

<para
>В &kmail; встроен мастер импорта, упрощающий передачу данных из другого почтового клиента. </para>

<variablelist>
<varlistentry id="importing-import-wizard">
<term
><menuchoice
><guimenu
>Сервис</guimenu
> <guimenuitem
>Импорт из другого почтового клиента...</guimenuitem
> </menuchoice
></term>
<listitem>
<para
>Запускает мастер импорта и пытается автоматически определить данные в другом приложении электронной почты. Если данные для импорта не будут найдены, воспользуйтесь функцией <guilabel
>Выбрать вручную</guilabel
>.</para>
</listitem>
</varlistentry>

<varlistentry id="importing-import-manual">
<term
><menuchoice
><guimenu
>Файл</guimenu
><guimenuitem
><inlinemediaobject
> <imageobject
><imagedata fileref="document-import.png" format="PNG"/> </imageobject
></inlinemediaobject
>Импорт писем...</guimenuitem
></menuchoice
></term>
<listitem>
<para
>Открывает мастер импорта и позволяет выбрать данные для импорта вручную.</para
></listitem>
</varlistentry>
</variablelist>

<para
>Более подробная информация содержится в документации <ulink url="help:/importwizard"
>мастера импорта</ulink
>. </para>

</sect2>

</sect1>
<sect1 id="multiple-accounts">
<title
>Использование нескольких учётных записей</title>

<para
>Несколько учётных записей возможно использовать для проверки почты более чем на одном электронном адресе и/или почтовом сервере. Для добавления или настройки учётных записей перейдите в меню <menuchoice
><guimenu
>Настройка</guimenu
> <guimenuitem
><inlinemediaobject
><imageobject
><imagedata fileref="configurebutton.png" format="PNG"/> </imageobject
></inlinemediaobject
>Настроить &kmail;...</guimenuitem
></menuchoice
> и откройте страницу <guilabel
>Учётные записи</guilabel
>. Более подробная информация о параметрах страницы <guilabel
>Учётные записи</guilabel
> находится в разделе <link linkend="getting-started"
>«Начало работы»</link
>.</para>

<para
>Для проверки почты в одной учётной записи используйте вложенное меню <menuchoice
><guimenu
>Файл</guimenu
><guimenuitem
><inlinemediaobject
> <imageobject
><imagedata fileref="mail-receive.png" format="PNG"/> </imageobject
></inlinemediaobject
>Проверить почту в</guimenuitem
></menuchoice
>. Также это возможно сделать с помощью нажатия на значок <guiicon
><inlinemediaobject
> <imageobject
><imagedata fileref="mail-receive.png" format="PNG"/> </imageobject
></inlinemediaobject
>Проверить почту</guiicon
> и удерживая некоторое время кнопку нажатой для получения списка учётных записей.</para>

</sect1>

<sect1 id="pgp">
<!-- This section is from Andreas Gungl, 2000-05-21, updated 2002-10-06 by Ingo Kloecker -->
<!-- Edited and modified by D. Bryant 2020-10-22. -->
<title
>Подписывание и шифрование писем с помощью <application
>GnuPG</application
></title>

<!--
<note
><para
>There have been major changes in the way &kmail; handles 
signing/encryption. The following introduction applies to the previous
version of &kmail;. You can still read the introduction to get an overview
about how to sign/encrypt messages, but the details, especially those of
the configuration, will differ.</para
></note>
-->
<para
>В этом разделе кратко описывается настройка &kmail; для поддержки <application
>GnuPG</application
> (<application
>&GNU; Privacy Guard</application
>); также здесь представлено несколько советов по использованию самого <application
>GnuPG</application
>. Это раздел создан для новичков в этой области; опытные пользователи <application
>GnuPG</application
> могут пропустить большинство шагов.</para>

<para
>Подробная информация также содержится в <link linkend="pgp-faq"
>разделе вопросов и ответов о <application
>GnuPG</application
></link
>.</para>

<warning
><para
>При использовании встраиваемой поддержки OpenPGP вложения не шифруются. Чтобы подписать или зашифровать вложения, рекомендуется установить GnuPG и ещё некоторые необходимые библиотеки. После этого для каждого вложения можно будет выбрать, нужно ли его шифровать или подписывать. </para
></warning>

<!-- <warning
><para
>&kmail; has to rely on <application
>GnuPG</application
>'s
output; this output is often different between different versions of 
<application
>GnuPG</application
>, so it is important that you test if encryption
really works with your setup before you start using it seriously. &kmail; might
<emphasis
>not</emphasis
> warn you if something fails - enable 
<guilabel
>Show signed/encrypted text
after composing</guilabel
>.  </para
></warning
> --><!-- Removing this warning ... GnuPG is stable now. @dcb2020295 -->

<para
>Чтобы настроить и использовать поддержку <application
>GnuPG</application
> в &kmail;, необходимо сначала установить и настроить программу <application
>GnuPG</application
>. Разумеется, здесь невозможно привести полное руководство по <application
>GnuPG</application
>, в этом руководстве только перечислены шаги, которые нужно сделать для того, чтобы заставить <application
>GnuPG</application
> работать. Более подробное описание представлено в <ulink url="https://www.gnupg.org/docs.html#guides"
>Руководстве &GNU; по обеспечению конфиденциальности</ulink
>.</para>

<para
>Рекомендуется изучить не только этот документ, но и какое-либо введение в шифрование с открытым ключом (например, из комплекта поставки <application
>PGP</application
> 6.5.x). Таким образом удастся изучить множество базовых идей и понятий, которые помогут понять, как работает шифрование. Также там обсуждаются вопросы безопасности, о которых следовало бы знать.</para>

<sect2 id="pgp-preconditions">
<title
>Непременные условия</title>

<para
>&kmail; исходит из того, что двоичный файл <application
>GnuPG</application
> будет называться <command
>gpg</command
>. Если это не так, просто создайте символическую ссылку.</para>

<para
>Если это не было сделано раньше, необходимо создать пару ключей (закрытый и открытый). Чтобы сделать это, воспользуйтесь &kgpg;, &kleopatra; или введите в командную строку: <userinput
><command
>gpg</command
> <option
>--gen-key</option
></userinput
>. Либо создайте новую пару ключей с помощью &kmail; при создании новой учётной записи. Профиль (обычно настоящее имя пользователя и адрес электронной почты, например, <userinput
>Иван Иванов &lt;ivanov@example.com&gt;</userinput
>) и ключевая фраза важны для взаимодействия &kmail; и <application
>GnuPG</application
>.</para>

</sect2>

<sect2 id="pgp-settings">
<title
>Параметры &kmail;, связанные с <application
>GnuPG</application
></title>

<para
>Выберите вкладку <guilabel
>Создание писем</guilabel
> в разделе параметров <guilabel
>Безопасность</guilabel
>. На вкладке будут представлены следующие функции:</para>

<variablelist>
<!-- not in 2.0.96?
<varlistentry>
<term
><guilabel
>Encryption tool</guilabel
></term>
<listitem>
<para
>Here you can choose if you want to use <application
>PGP</application
>,
<application
>GnuPG</application
> or no encryption
software at all; of course, the program you select has to be
installed on your system (it is also important to select the correct
version.)</para>
</listitem>
</varlistentry>
    --><!-- Gpg is used by default. @dcb2020296. -->

<varlistentry>
<term
><guilabel
>Всегда шифровать почту также и своим личным публичным ключом</guilabel
></term>
<listitem>
<para
>Если эта функция отключена и требуется отправить кому-нибудь зашифрованное письмо, то после составления и зашифровки письма прочитать его будет уже невозможно. Чтобы отправляемые зашифрованные письма были для чтения, включите эту функцию.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Хранить отправленные сообщения зашифрованными</guilabel
></term>
<listitem>
<para
>Если этот флажок установлен, отправленные письма будут храниться в зашифрованном виде такими, какими они были отправлены. Не рекомендуется пользоваться этой функцией, так как в таком случае исчезнет возможность чтения писем, если срок действия необходимого сертификата истечёт (обратите внимание, что срок действия ключей GPG, как правило, не истекает. Это предупреждение относится к пользователям сертификатов x.509).</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Всегда показывать ключи шифрования для подтверждения</guilabel
></term>
<listitem>
<para
>Эта опция откроет диалог, позволяющий при отправке зашифрованного письма выбрать ключи для каждого получателя. Если опция отключена, &kmail; отобразит диалог только если не удастся найти ключ для получателя или когда параметры шифрования будут отсутствовать/конфликтовать.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Подписывать/шифровать сохраняемые черновики</guilabel
></term>
<listitem
><para
>Если эта опция включена,  &kmail; будет автоматически зашифрует (и/или подпишет) письма, сохраняемые в папке <guilabel
>Черновики</guilabel
> (при указании типа подписи или шифрования).</para
></listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Показывать индикатор подписанного/зашифрованного письма в редакторе</guilabel
></term>
<listitem
><para
>Если эта функция включена, &kmail; отобразит в окне редактора писем индикатор, информирующий о том, что это письмо будет подписано или зашифровано при любом подходящем случае.</para
></listitem>
</varlistentry>

</variablelist>

<para
>После настройки инструмента шифрования необходимо указать в &kmail;, какой ключ OpenPGP требуется использовать для подписывания и шифрования писем. Чтобы это сделать, перейдите на страницу <link linkend="configure-identity"
>настройки профилей</link
> и установите ключ на вкладке <guilabel
>Шифрование</guilabel
>.</para>

<para
>Теперь возможно подписывать исходящие письма. Чтобы люди могли отправлять зашифрованные письма и проверять подпись отправителя, необходимо отправить им свой открытый ключ или загрузить его на открытый сервер ключей <application
>GnuPG</application
> (чтобы пользователи могли скачать его оттуда). Для отправки зашифрованных писем другим людям или для проверки их подписанных писем, потребуются их открытые ключи. Попробуйте найти открытые ключи на сервере ключей <application
>GnuPG</application
>, либо попросите этих людей отправить свои открытые ключи.</para>

</sect2>

<sect2 id="pgp-sign-your-messages">
<title
>Подписывание писем</title>

<para
>Создайте письмо в окне редактора. Перед его отправкой нажмите на кнопку <guibutton
><inlinemediaobject
> <imageobject
><imagedata fileref="document-edit.png" format="PNG"/> </imageobject
></inlinemediaobject
> Подпись</guibutton
> на панели инструментов окна редактора, либо выберите эту же опцию в меню <menuchoice
> <guimenu
>Параметры</guimenu
><guimenuitem
><inlinemediaobject
><imageobject
> <imagedata fileref="document-edit.png" format="PNG"/></imageobject
> </inlinemediaobject
> Подписать письмо</guimenuitem
></menuchoice
>. После этого письмо можно будет отправлять. Используемый для работы с текущим письмом профиль должен быть связан с ключом <guilabel
>OpenPGP</guilabel
> в разделе <guilabel
>Профиль</guilabel
> диалога <guilabel
>Настройка</guilabel
>. Чтобы подписать письмо, &kmail; должен знать ключевую фразу <application
>GnuPG</application
>. Будет предложено указать её, либо, если ключевая фраза была ранее указана в &kmail;, письмо будет подписано автоматически.</para>

</sect2>

<sect2 id="pgp-encrypt-your-messages">
<title
>Шифрование писем</title>

<para
>Чтобы отправить зашифрованное письмо адресату, чей ключ открытый ключ указан, просто создайте письмо в окне редактора. Перед отправкой письма нажмите кнопку <guibutton
><inlinemediaobject
><imageobject
> <imagedata fileref="document-decrypt.png" format="PNG"/> </imageobject
></inlinemediaobject
> Шифрование</guibutton
> на панели инструментов окна редактора (или воспользуйтесь пунктом меню <menuchoice
> <guimenu
>Параметры</guimenu
><guimenuitem
><inlinemediaobject
><imageobject
> <imagedata fileref="document-decrypt.png" format="PNG"/> </imageobject
></inlinemediaobject
> Зашифровать письмо</guimenuitem
></menuchoice
>). Затем отправьте письмо.</para>

<para
>Если после нажатия кнопки <guibutton
><inlinemediaobject
><imageobject
> <imagedata fileref="document-decrypt.png" format="PNG"/> </imageobject
></inlinemediaobject
> Шифрования</guibutton
> &kmail; не может найти для получателя нужного ключа, он позволить изменить набор ключей перед ещё одной попыткой поиска. Если для получателя будет найдено несколько доверенных ключей, будет показан список всех подходящих ключей. В обоих случаях возможно выбрать ключ(и), которые должны быть использованы для шифрования письма.</para>

<para
>Если используется ключ шифрования в первый раз, либо если есть конфликт параметров шифрования или если на странице настройки &kmail; <guilabel
>Безопасность</guilabel
> включена опция <guilabel
>Всегда показывать ключи шифрования для подтверждения</guilabel
>, появится диалог <guilabel
>Одобрение ключа шифрования</guilabel
>. Этот диалог позволяет выбрать разные ключи и указать <guilabel
>Параметры шифрования:</guilabel
> для каждого получателя. Функция <guilabel
>Шифровать, когда возможно</guilabel
> (на вкладке <guilabel
>Шифрование</guilabel
> диалога <menuchoice
><guimenu
>Настройка</guimenu
><guimenuitem
>Настроить &kmail;...</guimenuitem
> </menuchoice
>) автоматически зашифрует письмо при наличии доверенного ключа для каждого получателя.</para>

<para
>Как было отмечено раньше, без включения функции <guilabel
>Шифровать письма также моим собственным сертификатом</guilabel
> на странице настройки <guilabel
>Безопасность</guilabel
> прочитать отправленное зашифрованное письмо не получится.</para>

</sect2>

<sect2 id="pgp-send-your-public-key">
<title
>Отправка открытого ключа</title>

<para
>Напишите письмо для того, кому требуется отправить открытый ключ. В меню окна редактора выберите пункт <menuchoice
><guimenu
>Вложение</guimenu
><guimenuitem
>Вложить открытый ключ...</guimenuitem
></menuchoice
>. К письму будет приложен открытый ключ, указанный в параметрах текущего профиля.</para>

<para
>Не забывайте, что не совсем безопасно просто подписывать письмо, чтобы убедиться, что получатель получит правильный ключ. Есть вероятность, что кто-то перехватит письмо, изменит прикреплённый ключ и подпишет это письмо другим ключом. Получатель должен получить правильность прикреплённого ключа, сверив отпечаток с тем ключом, который он получил от первоначального отправителя письма безопасным способом. В качестве альтернативы возможно попросить его использовать полученный ключ для составления и отправки зашифрованного письма. Если полученное письмо расшифровывается используемым закрытым ключом, значит, пользователь получил письмо с правильным ключом. Более подробная информация содержится в документации <application
>GnuPG</application
>.</para>

</sect2>

<sect2 id="pgp-you-received-an-encrypted-message">
<title
>Если было получено зашифрованное письмо</title>

<para
>Всё, что нужно сделать, это выбрать это письмо в &kmail;, ввести ключевую фразу, и &kmail; попытается расшифровать письмо и показать его в виде простого текста, если письмо было зашифровано открытым ключом. В противном случае оно будет нечитаемо. &kmail; хранит письма зашифрованными, поэтому никто не сможет прочитать их, не имея доступа к ключевой фразе или паролю от учётной записи.</para>

</sect2>

<sect2 id="pgp-receiving-a-public-key">
<title
>Получение открытого ключа</title>

<para
>Возможно получить открытый ключ в виде вложения, по протоколу http или ftp или на дискете. Перед использованием этого ключа для шифрования писем следует проверить его отпечаток или найти доверенные подписи. Затем можно будет добавить этот ключ к используемому хранилищу ключей с помощью командной строки: <userinput
><command
>gpg</command
> <option
>--import</option
> <replaceable
>filename</replaceable
></userinput
>. Если ключ не подтверждён другой доверенной подписью, его нельзя будет использовать для шифрования писем, пока он не будет подписан собственным ключом пользователя. </para>

</sect2>

</sect1>

<sect1 id="the-anti-spam-wizard">
<title
>Мастер антиспама</title>

<sect2 id="spam-wizard-basics">
<title
>Основы</title>

<para
>&kmail; не имеет встроенной поддержки определения нежелательной почты: использование внешних, но специализированных, средств намного эффективнее. Гибкая архитектура фильтрации позволяет легко интегрировать такие инструменты в &kmail;. Мастер антиспама поможет в этом. </para>

<variablelist>
<varlistentry>
<term
>Чем мастер может помочь?</term>
<listitem>
<para
>Он предоставит на выбор несколько вариантов фильтрации спама, а затем, основываясь на выборе, создаст соответствующие фильтры. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Какие ограничения у мастера?</term>
<listitem>
<para
>Он выполняет только стандартную настройку фильтров. Изменения, внесённые вручную в существующие фильтры защиты от нежелательной почты, не распознаются. Мастер заменяет такие фильтры стандартными. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Чтобы включить мастер, воспользуйтесь пунктом меню <menuchoice
><guimenu
>Сервис</guimenu
> <guisubmenu
>Мастер антиспама...</guisubmenu
></menuchoice
>. Если этот пункт меню отсутствует, перейдите в меню <menuchoice
><guimenu
>Настройка</guimenu
><guisubmenu
>Настроить &kmail;...</guisubmenu
><guimenuitem
>Модули</guimenuitem
></menuchoice
> и установите флажок <guilabel
>Антиспам</guilabel
>. Потребуется перезагрузить &kmail;; после перезапуска мастер антиспама отобразится в меню <guilabel
>Сервис</guilabel
>.</para>

<para
>Этот мастер выполняет поиск установленных в системе средств определения нежелательной почты. Возможно также использование результатов работы такого ПО, применяемого провайдером на почтовом сервере, которые помещаются в заголовки писем. &kmail; позволяет использовать сразу несколько средств борьбы со спамом, однако обратите внимание, что эти средства обычно очень ресурсоёмки, из-за чего &kmail; может перестать реагировать на действия пользователя при их работе. Рассмотрите возможность удаления правил фильтрации, созданных мастером, если фильтрация станет слишком медленной (это была проблема со старым оборудованием. Возможно, это не повлияет на более современные машины).</para>
<para
>Далее представлено несколько замечаний о работе некоторых инструментах антиспама.</para>

<variablelist>
<varlistentry>
  <term
>Bogofilter</term>
<listitem>
<para
>Bogofilter — это байесовский фильтр, то есть он требует предварительного обучения. С другой стороны, это довольно быстрый инструмент, поэтому он рекомендуется для пользователей, которые хотят быстро обнаруживать спам и не хотят прикладывать некоторые усилия для предварительного обучения, прежде чем уровень обнаружения значительно вырастет. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>SpamAssassin</term>
<listitem>
<para
>SpamAssassin — достаточно сложный инструмент для борьбы со спамом. Хотя его поведение сильно зависит от его конфигурации, он способен хорошо обнаруживать спам без начального обучения. Однако сканирование письма занимает больше времени по сравнению со средствами, использующими исключительно байесовские фильтры. Это не самый оптимальный выбор для людей, не знакомых с возможностями SpamAssassin. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>Annoyance Filter</term>
<listitem>
<para
>Инструмент для специалистов. Возможно, он получит большую популярность после включения в основные дистрибутивы. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>Спам-фильтр GMX</term>
<listitem>
<para
>Если используется бесплатная почтовая служба GMX, письма всегда сканируются средством для борьбы со спамом. Результат этого процесса записывается в специальном поле заголовка каждого письма. Содержимое этого поля заголовка возможно использовать для фильтрации нежелательной почты. При испольщовании только этого фильтра замедление в работе KMail заметно не будет. </para>
</listitem>
</varlistentry>
</variablelist>


</sect2>

<sect2 id="spam-wizard-advanced">
<title
>Дополнительно</title>

<para
>&kmail; может использовать несколько внешних инструментов для обнаружения нежелательной почты. Он попытается автоматически выяснить, какие инструменты установлены в используемой системе, и отобразит их в списке. Список упорядочен по средней скорости процесса фильтрации. Затем можно будет отметить те инструменты, которые необходимо использовать в &kmail;. Если нужно больше возможностей, установите новое средство и перезапустите мастер. </para>

<para
>Если был отмечен хотя бы один инструмент, &kmail; может предоставить фильтры, которые позволяют классифицировать письма как спам или не спам. Он также предоставит возможность вручную классифицировать письма. Эти действия доступны в пункте меню <menuchoice
><guimenu
>Письмо</guimenu
><guisubmenu
>Применить фильтр &gt;</guisubmenu
></menuchoice
> и с помощью пары значков на панели инструментов. Если какой-либо из выбранных инструментов поддерживает байесовскую фильтрацию (то есть метод обнаружения спама, основанный на статистическом анализе писем), эти письма будут не только отмечены, но и пропущены через инструменты, что поможет инструментам обучиться и повысить скорость обнаружения нежелательных писем. </para>

<para
>На второй странице возможно выбрать некоторые дополнительные действия для нежелательной почты: чтобы письма, идентифицируемые как спам, отправлялись в определённую папку, выберите соответствующую папку и включите функцию <guilabel
>Перемещать 100% спам в:</guilabel
>; если нежелательные письма дополнительно должны быть отмечены как прочитанные, установите флажок <guilabel
>Помечать нежелательную почту как прочитанную</guilabel
>. </para>

<para
>Если был отмечен хотя бы один из доступных инструментов, это позволит мастеру завершить настройку фильтра. Мастер не будет принимать во внимание какие-либо изменения в существующих фильтрах, ранее созданных им, он либо добавит новые фильтры, либо заменит существующие. В любом случае проверить результат этого процесса возможно в <link linkend="filter-dialog"
>диалоге фильтрации</link
>. Мастер также создаст кнопки на панели инструментов для пометки писем как спам. Имейте в виду, что классификация писем как спам также приведёт к их перемещению в папку для нежелательной почты при ручной классификации письма как <quote
>спам</quote
>. </para>

</sect2>

<sect2 id="spam-wizard-details">
<title
>Дополнительные подробности для экспертов</title>

<para
>Мастер использует информацию, хранящуюся в специальном конфигурационном файле <filename
>kmail.antispamrc</filename
>, расположенном в глобальном или локальном конфигурационном каталоге &kde;. Сначала он проверит глобальный конфигурационный файл, затем локальный. Если версия локального конфигурационного файла окажется выше, будут использоваться данные конфигурации из локального файла (для этого инструмента), поэтому как администраторы, так и пользователи могут обновлять конфигурацию мастера. </para>

<para
>Определение (установка статуса) нежелательной почты средствами текущей системы происходит с помощью фильтров с правилом <guilabel
>Пропустить через конвейер</guilabel
>. Другие фильтры содержат действия для писем по их статусу. Фильтры применяются к новой и классифицируемой вручную почте. </para>

<para
>Для классификации писем (спам или нет) создаются два фильтра с соответствующими действиями, например, переместить спам в соответствующую папку. Если выбранные инструменты поддерживают байесовскую фильтрацию, будет создано дополнительное действие <guilabel
>Выполнить команду</guilabel
> для передачи письма программе для последующего обучения. </para>

<para
>Для получения информации о более тонкой настройке фильтрации обратитесь к разделу <link linkend="filter-optimization"
>«Оптимизация использования фильтров»</link
>.</para>

</sect2>

</sect1>

<sect1 id="the-anti-virus-wizard">
<title
>Мастер антивируса</title>

<sect2 id="virus-wizard-basics">
<title
>Основы</title>

<para
>&kmail; не имеет встроенной поддержки определения инфицированной почты: использование внешних, но специализированных, средств намного эффективнее. Гибкая архитектура фильтров позволяет легко интегрировать такие инструменты в &kmail;. Мастер антивируса поможет в этом. </para>

<variablelist>
<varlistentry>
<term
>Чем мастер может помочь?</term>
<listitem>
<para
>Он предоставит на выбор несколько вариантов фильтрации, а затем, основываясь на выборе, создаст соответствующие фильтры. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Какие ограничения у мастера?</term>
<listitem>
<para
>Он выполняет только стандартную настройку фильтров. Изменения, внесённые вручную в существующие фильтры защиты от вирусов, не распознаются. Мастер заменяет такие фильтры стандартными. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Чтобы включить мастер, воспользуйтесь пунктом меню <menuchoice
><guimenu
>Сервис</guimenu
> <guisubmenu
>Мастер антивируса...</guisubmenu
></menuchoice
>. Если этот пункт меню отсутствует, перейдите в меню <menuchoice
><guimenu
>Настройка</guimenu
><guisubmenu
>Настроить &kmail;...</guisubmenu
><guimenuitem
>Модули</guimenuitem
></menuchoice
> и установите флажок <guilabel
>Антивирус</guilabel
>. Потребуется перезагрузить &kmail;; после перезапуска мастер антиспама отобразится в меню <guilabel
>Сервис</guilabel
>.</para>

</sect2>

<sect2 id="virus-wizard-advanced">
<title
>Дополнительно</title>

<para
>Принцип работы мастер антивируса схож с принципом работы <link linkend="the-anti-spam-wizard"
>мастера антиспама</link
>. &kmail; может использовать несколько внешних инструментов для определения писем с вирусами. Он определит, какие инструменты установлены в системе, и покажет результаты поиска. Возможно отметить те их них, которые требуется использовать в &kmail; . Если нужно больше вариантов, закройте мастер, установите инструмент и снова запустите его. </para>

<para
>Если был выбран хотя бы один инструмент, возможно выбрать действия &kmail; для работы с письмами, содержащими вирусы. Чтобы  &kmail; определял такие письма, установите флажок <guilabel
>Проверять письма антивирусными средствами</guilabel
>. Чтобы письма с вирусами перемещались в определённую папку, выберите соответствующую папку и установите флажок <guilabel
>Перемещать почту с вирусами в указанную папку</guilabel
>. Если такие письма также следует отмечать как прочитанные, выберите функцию <guilabel
>Также отмечать письма с вирусами как прочитанные</guilabel
>. </para>

<para
>Выбор хотя бы одного из этих параметров позволит мастеру завершить настройку фильтра. Мастер не будет учитывать существующие правила фильтрации и добавит новые. Чтобы проверить результат этого процесса, воспользуйтесь <link linkend="filter-dialog"
>диалогом фильтров</link
>. </para>

</sect2>

<sect2 id="virus-wizard-details">
<title
>Дополнительно</title>

<para
>Мастер использует информацию, хранящуюся в специальном конфигурационном файле <filename
>kmail.antivirusrc</filename
>, расположенном в глобальном или локальном конфигурационном каталоге &kde;. Если версия локального конфигурационного файла выше, используются данные конфигурации из локального файла (для этого инструмента), поэтому как администраторы, так и пользователи могут обновлять конфигурацию мастера. </para>

<para
>Определение (установка статуса) инфицированной почты происходит с помощью фильтров с правилом <guilabel
>Пропустить через конвейер</guilabel
>. Другие фильтры содержат действия для писем по их статусу. Фильтры применяются к новой почте и при ручном запуске фильтров. </para>

</sect2>

</sect1>

</chapter>
