<chapter id="faq">

<chapterinfo>
<authorgroup>
<author>&Daniel.Naber; &Daniel.Naber.mail;</author>
<author>&David.Rugge; &David.Rugge.mail;</author>
<author>&David.Bryant; &David.Bryant.mail;</author>
<!-- TRANS:ROLES_OF_TRANSLATORS -->
</authorgroup>

<date>2021-04-09</date>
<releaseinfo>5.14.2 (Applications 20.04.2)</releaseinfo>
</chapterinfo>

<title>Frequently Asked Questions (&FAQ;)</title>
<!-- TODO: split into categories? unfortunately this will produce several files, eg. with <section> -->

<qandaset id="faq-set">

<qandaentry>
  <question><para>How can I set Firefox as my default browser?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You want to click on a link in &kmail; and have the link opened in 
    <application>Firefox</application>. At the moment, another browser is used. You want to change this.</para>
    <para><emphasis>Solution:</emphasis> This change will affect all of &kde;, not just &kmail;. Select <menuchoice> 
    <guimenu>&systemsettings;</guimenu><guisubmenu>Default Applications</guisubmenu><guimenuitem>Web 
    Browser</guimenuitem><guimenuitem>Mozilla Firefox</guimenuitem></menuchoice>.</para>
    
    <para>If you are an administrator and want to make this setting automatically for your users, do this.</para>
    <itemizedlist>
      <listitem>
        <para>Run <screen># qtpaths --paths ConfigLocation</screen> in a terminal. This will display the path(s) leading to
        configuration files for KDE programs in your system. Use the path starting in each user's Home directory, and
        locate the file named <filename>kdeglobals</filename>, then add this line under category 
        <guilabel>[General]</guilabel>:</para>
        <para><userinput>BrowserApplication[$e]=firefox.desktop</userinput>
        </para>
      </listitem>
    </itemizedlist>
    <para>You can also try the script in 
    <ulink url="https://userbase.kde.org/Special:myLanguage/Tutorials/Modify_KDE_Software_Defaults">Tutorials/
    Modify_KDE_Software_Defaults</ulink></para>
    <note><para>The actual physical location of configuration variables is distribution dependent. Do not
    be surprised if some of the instructions about modifying configuration variables documented in the &kde; wiki
    will not work for you. The public forum (online) for your distro is a good place to seek help.</para></note>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I control my Roaming profile's connection?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You set up a <emphasis>Roaming profile</emphasis> so you can access your
    home server while you are on the road, but it keeps trying to connect even when you are at home. 
    Auto-connection is disabled in the setup screens.</para>
    <para><emphasis>Solution:</emphasis> Navigate to <menuchoice><guimenu>Settings</guimenu><guisubmenu>Configure 
    KMail</guisubmenu><guimenuitem>Accounts</guimenuitem><guimenuitem>Receiving (tab)</guimenuitem>
    <guimenuitem>(select the account to exclude)</guimenuitem><guimenuitem>Retrieval Options</guimenuitem> 
    </menuchoice>, then uncheck <guilabel>Include in Manual Mail Check</guilabel>. This will exclude that profile 
    when you hit the download icon, but the account will still be available from the drop-down list, making it easy 
    to retrieve your mail when away from home.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I store sent messages in a special folder?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You want to store the messages you have sent in a special folder. Maybe you
    are using an &IMAP; server and wish to store your sent mail on the server, not in a local folder.</para>
    <para><emphasis>Solution:</emphasis> In &kmail;, navigate to 
    <menuchoice><guimenu>Settings</guimenu><guisubmenu>Configure 
    KMail</guisubmenu><guimenuitem>Identities</guimenuitem><guimenuitem>(Choose an 
    identity)</guimenuitem><guimenuitem>Modify</guimenuitem><guimenuitem>Advanced</guimenuitem><guimenuitem>Sent-mail 
    folder</guimenuitem></menuchoice> and select the folder you want to use.</para>
    <para>Alternatively, you can use the <guilabel>Sent-Mail Folder</guilabel> field (accessible via the
    <guimenu>View</guimenu> menu in the composer window) to override the default sent mail folder for a particular 
    message.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I move trash email messages to a special folder?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You want to store trash in a special folder. Maybe you are using an &IMAP; 
    server and want trashed email messages to be stored on the server, not locally.</para>
    <para><emphasis>Solution:</emphasis> In the settings dialog select an &IMAP; account on the 
    <guilabel>Accounts</guilabel> page. Click on <guibutton>Modify</guibutton> and change the
    trash folder location via the <guilabel>Advanced</guilabel> tab.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #5 -->
<qandaentry>
  <question><para>How can I store encrypted messages in unencrypted form?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You exchange encrypted mail with a friend, but would like to store your 
    own copy unencrypted, once you have opened the message.</para>
    <para><emphasis>Solution:</emphasis> To store emails that have been decrypted once in unencrypted format 
    thereafter, add this item to your <filename>kmail2rc</filename> configuration file, in the [Reader] section:</para>
    <para><userinput>store-displayed-messages-unencrypted=true</userinput>.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I filter spam on an &IMAP; server?</para></question>
  <!--FIXME replace this with a link to the sieve section?-->
  <answer>
    <para><emphasis>Problem:</emphasis> You intend to read your mail from an &IMAP; server, and wonder how 
    filtering and spam handling will occur.</para>
    <para><emphasis>Solution:</emphasis> The machine that already has your mail can become your &IMAP; server. You will 
    have to configure a server application. <application>Dovecot</application> is one such, and the guidance on the 
    project web pages make it relatively simple to set up. That still leaves you with the problem of filtering, as 
    it makes sense to do that on the server (when you point &kmail; at the server you will see the folders that have 
    been created on that system). There are several options. One of the best known is
    <application>Procmail</application>. Another one is <application>Imapfilter</application>. There is plenty of 
    information on the internet about setting these up. Further discussion of these OSS packages is beyond the scope 
    of &kmail;'s documentation.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I get more screen space in &kmail;?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You are using &kmail; on a laptop or notebook, and find that the new 
    <emphasis>Aggregation</emphasis> display leaves you too little screen space.</para>

    <para><emphasis>Solution:</emphasis>If you want to change the message list so each message uses a single line 
    instead of two  lines, go to  <menuchoice><guimenu>View</guimenu><guisubmenu>Message List</guisubmenu> 
    <guimenuitem>Theme</guimenuitem></menuchoice> and change the theme to <guilabel>Classic</guilabel>. If 
    you want to disable grouping by date, change the aggregation using <menuchoice><guimenu>View</guimenu> 
    <guisubmenu>Message List</guisubmenu><guimenuitem>Aggregation</guimenuitem></menuchoice> to <guilabel>Standard 
    Mailing List</guilabel>. Now your &kmail; will look exactly like it did in early versions of the program.</para>

    <para>In <menuchoice><guimenu>Settings</guimenu><guisubmenu>Configure &kmail;</guisubmenu> 
    <guimenuitem>Appearance</guimenuitem><guimenuitem>Fonts</guimenuitem></menuchoice> you can select 
    <guilabel>Use custom fonts</guilabel> to change the setting for the message list. You can also set
    the font size in the <guilabel>Use custom fonts</guilabel> dialog.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I turn &kmail; folder tool tips off?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You are using &kmail; on a laptop or notebook, and find that the 
    <emphasis>tooltips</emphasis> that pop up hide too many folder names</para>
    <para><emphasis>Solution:</emphasis> Right-click on the "Name" header above the <guilabel>Folder
    List</guilabel> and check <guilabel>Never</guilabel> under <guilabel>Display Tooltips</guilabel>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I hide the message list tool tips?</para></question>
  <answer>
    <para>On &kmail;, <menuchoice><guimenu>Settings</guimenu><guisubmenu>Configure 
    KMail</guisubmenu><guimenuitem>Appearance</guimenuitem><guimenuitem>Message List</guimenuitem>
    </menuchoice> tab, uncheck <menuchoice><guimenu>General</guimenu><guimenuitem>Display tooltips
    for messages and group headers</guimenuitem></menuchoice></para>
    <para>Alternatively, right-click one of the headers above the message list and clear the
    check box labeled <guilabel>Display Tooltips</guilabel>.</para>
    <note><para>The headers above the message list do not appear if you have chosen the "Smart" theme.</para></note>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- <qandaentry>
<question><para>How can I remove alternate line colorings?</para></question>
<answer>
<para>In <menuchoice><guimenu>&systemsettings;</guimenu><guisubmenu>Application 
Appearance</guisubmenu><guimenuitem>Colors</guimenuitem><guimenuitem>Colors</guimenuitem></menuchoice>, for each color 
set except <guilabel>Common Colors</guilabel> (which doesn't have it), change the <guilabel>Alternate 
Background</guilabel> to be the same as the <guilabel>Normal Background</guilabel>.</para>
<para><emphasis>Mandriva</emphasis> and <emphasis>Mageia</emphasis> doesn't use the name <guilabel>System 
Settings</guilabel>.  As in <guilabel>KControl</guilabel>, the KDE 3 control centre, they name it <quote>Configure your 
Desktop</quote> to distinguish it from <quote>Configure your Computer</quote>, a.k.a. the Mandriva/Mageia Control 
Center (MCC). Other than this name change, the method is as described above.</para>
</answer>
</qandaentry> --><!-- This trick hasn't worked in a long time. @dcb2021101. -->

<!-- FAQ #10 -->
<qandaentry id="transfer-mail-and-settings">
  <question>
    <para>How do I transfer my mail and settings to another computer (or to another user account on the same 
    machine)?</para>
  </question>
  <answer>
    <para>Use <menuchoice><guimenu>Tools</guimenu><guimenuitem>Import/Export &kmail; Data...</guimenuitem></menuchoice> 
    to import and export settings and data. Please see <ulink url="help:/pimsettingexporter">PIM Setting
    Exporter</ulink> for details.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Why can't I copy my email folders to a USB stick?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You are setting up a new computer and want to transfer all your mail. You 
    decide to copy everything to a USB stick. The job starts, then you get a failure message:</para>
    <screen>Unable to copy ............ Invalid argument</screen>
    
    <para><emphasis>Solution:</emphasis> Your usb stick is <ulink 
    url="http://wiki.linuxquestions.org/wiki/VFAT">VFAT</ulink> formatted, and therefore it can't handle 
    <emphasis>maildir</emphasis> folder names (nor can it handle <emphasis>permissions</emphasis>, which can
    cause many other problems). You have two choices. Either format your <acronym>USB</acronym> stick as
    ext2 (or ext3 / 4 -- in which case you should be aware it can't be read by &Windows; without
    installing additional software) or create a .tar or .zip file of your mail, then copy that to
    the stick and extract the archive on the new host.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Why are my filters not applied to incoming messages from &IMAP; accounts?</para></question>
  <answer>
    <para>Normal &IMAP; mode does not support filtering, but the new
    disconnected &IMAP; account type does. You could try to use server-side
    filtering (ask your admin how to install filters on the server, and in
    which format), since &IMAP; is all about managing your email <emphasis>on the
    server</emphasis>. See <menuchoice><guimenu>Settings</guimenu><guisubmenu>Configure
    &kmail;...</guisubmenu><guimenuitem>Receiving</guimenuitem><guimenuitem>(some &IMAP;
    account)</guimenuitem></menuchoice>, then click <guilabel>Modify...</guilabel> and the
    <guilabel>Filtering</guilabel> tab to configure server side filtering using the <ulink
    url="http://sieve.info/">Sieve</ulink> programming language (if your &IMAP; server supports it).</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry id="pgp-faq">
<question><para>What should I know if I want to use
<application>PGP</application>/<application>GnuPG</application> with
&kmail;?</para></question>

  <answer>
    <para>&kmail; provides a simple and easy-to-use interface for the basic
    functions of these programs; still, you should understand how these programs
    work, and what might make their use insecure. Some important issues:</para>

    <itemizedlist>
      <listitem>
        <para>You <emphasis>really</emphasis> should test if encryption works
        before you use it. &kmail; partly relies on
        <application>PGP</application>/<application>GnuPG</application>'s error strings,
        which often change between different versions.</para>
      </listitem>
      
      <listitem>
        <para>&kmail; will not encrypt messages with an untrusted (unsigned) public key. If
        you want to encrypt to such a key you should check the identity of the key owner and
        only then sign the key with your secret key. If you do not want to or cannot check the
        identity of the key owner, but nevertheless want to encrypt the message, then please
        sign the key locally with <userinput><command>gpg</command>
        <option>--lsign</option> <replaceable>keyID</replaceable></userinput>.</para>
      </listitem>
      
      <listitem>
        <para>Trusting a foreign public key without checking it is not a good idea.</para>
      </listitem>
      
      <listitem>
        <para>Starting with GnuPG 1.0.7 you have to set your own key to
        ultimate owner trust: it is no longer implicitly done for you.</para>
      </listitem>
    </itemizedlist>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Where does &kmail; save my settings and my mail?</para></question>
  <answer>
    <para>Most &kmail; settings are stored in <filename>~/.config/kmail2rc</filename>&nbsp;.</para>
    <para>The <emphasis>Akonadi</emphasis>-controlled entries are stored in these folders:</para>
      <itemizedlist>
        <listitem><para><filename class="directory">~/.local/share/</filename>.</para></listitem>
        <listitem><para><filename class="directory">~/.config/akonadi/</filename>.</para></listitem>
      </itemizedlist>
    <para>Note that some of the files are hidden: remember to also copy those if you want to backup or
    archive your mails. To be safe, use <ulink url="help:/pimdataexporter">PIM Data Exporter</ulink>
    to back up your mail and your settings.</para><para>&nbsp;</para> 
  </answer>
</qandaentry>

<!-- FAQ #15 -->
<qandaentry id="faq-index-regeneration">
  <question><para>Why did &kmail; regenerate the index of a folder?</para></question>
  <answer>
    <para>&kmail; regenerates the index of a folder whenever the index appears to be
    out of date, &ie; whenever the contents of a folder are newer than the
    index. &kmail; regenerates the index in this case in order to prevent
    the loss or corruption of messages.</para>
    <para>An outdated index can have several causes; these are the most common.
      <itemizedlist>
        <listitem><para>Some other program modified the contents of the folder. If you want
        to use &kmail; together with procmail then please read <link
        linkend="faq-procmail">this &FAQ;</link>. If you want to use &kmail; together with
        another email client then please read <link
        linkend="faq-other-muas">this &FAQ;</link>.</para></listitem>
        <listitem><para>If your mail folder is on a volume which is
        mounted via NFS, and if the clock in the NFS server is behind the
        clock in your computer, then the NFS server sometimes reports the wrong
        file date for the index file. In this case &kmail; concludes that the index
        is outdated, although in reality it is not. To fix this problem
        you (or your system administrator) have to make sure that the clock in
        the NFS server and the clock in your computer are always in sync. One
        way to achieve this is to use the ntp daemon.</para></listitem>
      </itemizedlist>
    </para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Why doesn't &kmail; start up?</para></question>
  <answer>
    <para><emphasis>Problem:</emphasis> You want to start &kmail; from a minimal desktop environment like <ulink 
    url="https://en.wikipedia.org/wiki/Fvwm2">fvwm2</ulink>. It does not start.</para>
    <para><emphasis>Solution:</emphasis> This happens because you are missing <emphasis>dbus</emphasis> 
    functionality. Start &kmail; from a terminal window using dbus-launch, like this:</para>
    <screen># dbus-launch kmail</screen><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry id="faq-other-muas">
  <question><para>Can I use &kmail; together with a different email client, &eg;,
  <application>mutt</application>?</para></question>
  <answer>
    <para>If you're using the mbox format for your folders it is not
    possible to use a different email client while &kmail; is running.
    With <application>mutt</application>, there may also be problems
    even if both programs are not running at the same time. We recommend you
    use the maildir format if you want to use mutt with &kmail;.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry><!-- Valid for 4.12-->
  <question><para>How can I convert my mailboxes from mbox to maildir?</para></question>
  <answer>
    <para>There is no automated way to do that. You must create a new folder
    in maildir format, then copy the messages from the mbox folder into this
    new folder. Remember to adapt any filter rules connected with the old folder before
    you delete it.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I remove attachments from a message without removing
  the message itself?</para></question>
  <answer>
    <para>Open the context menu with a &RMB; click on an attachment and 
    select <guimenuitem>Delete Attachment</guimenuitem>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #20 -->
<qandaentry>
  <question><para>How can I make &kmail; check for new messages at startup?</para></question>
  <answer>
    <para>If &kmail; should always check for new messages at startup then
    enable <guilabel>Check mail on startup</guilabel> on the
    <link linkend="configure-accounts-receiving">Accounts configuration page</link>.
    Alternatively, start &kmail; with <command>kmail <option>--check</option></command>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Where can I find a list of changes between one version of &kmail; and the next one?</para></question>
  <answer>
    <para>The welcome screen lists all important changes for your version. It is displayed when you
    select <menuchoice><guimenu>Help</guimenu><guimenuitem>&kmail; Introduction</guimenuitem></menuchoice>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>I'm one of those people whose messages consist of 100 quoted lines
  and one line written by myself. For some odd reason, this annoys other people. Can
  &kmail; help me and make everyone's life better?</para></question>
  <answer>
    <para>Sure. Just select a short, relevant piece of the original message
    with the mouse before you click "reply". Only this part of the original message
    will be quoted by the composer.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Why do some messages exhibit a value of "unknown"
  in the <guilabel>Date</guilabel> field? Why is the date sometimes incorrect?</para></question>
  <answer>
    <para>Most likely, the "Date:" header of these messages is
    broken and &kmail; cannot interpret it. That is not a bug in &kmail;,
    but in the software that sent the mail.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>My signature has two dashes above it. What's up?</para></question>
  <answer>
    <para>Separating the signature from the message body with two dashes and a space
    on a single line is common usage. These symbols permit mail clients that recognize
    them to trim the signature from a reply. If your signature does not include
    this separator, &kmail; will automatically add it.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #25 -->
<qandaentry>
  <question><para>Are there any known bugs in &kmail;?</para></question>
  <answer>
    <para>There are quite a few, as you can see by querying the &kmail; <ulink
    url="https://bugs.kde.org/buglist.cgi?quicksearch=kmail2">Bugzilla page</ulink>.
    As of this writing (April, 2021) roughly 70% of the reported bugs are unconfirmed,
    or irreproducible. All in all we think &kmail; is a robust piece of software.</para>
    <warning><para>You should not run &kmail; while another email client is already
    accessing the files in the mail directory; if you do, you may lose messages. Note that
    you should make backups of your messages -- and all your important data -- regularly.
    That's just good digital hygiene.</para></warning><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Why doesn't &kmail; display &HTML; mail properly?</para></question>
  <answer>
    <para>References to external content, like images, are disabled by
    default, as spammers can use them to track whether and when you read a message.
    Loading external references can be activated in the <guilabel>Security</guilabel>
    tab in &kmail;'s configuration dialog. Plugins (like <trademark
    class="registered">Adobe</trademark> <application>Flash</application>),
    &Java; and JavaScript will not be displayed in &kmail; for security reasons,
    and there is no way to activate them.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Can I use two different versions of &kmail; at the same time? Can I go
  back from a current version of &kmail; to an older one?</para></question>
  <answer>
    <para>You should only run one instance of &kmail; at a time. We also recommend
    that you stick to a certain version and not switch back and forth between different versions.
    Downgrading to an older version may work, but will probably cause problems because, for instance, 
    the index file formats have been changed. Upgrading should never be a problem.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Does &kmail; support uuencoded files?</para></question>
  <answer>
    <para>Uuencoded attachments are not supported. Save mail with uuencoded attachments,
    then use <command>uudecode</command> to decode the attachments.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>&kmail; crashed while I was composing a message. Is that message lost now?</para></question>
  <answer>
    <para>&kmail; tries to save your mail to
    <filename class="directory">~/.local/share/kmail2/autosave/</filename>
    in case of a crash. The next time you start &kmail; the mail composer should appear with your
    message again; If it does not, try to open the files in <filename 
    class="directory">~/.local/share/kmail2/autosave/</filename> with an editor. If there are no files in
    that folder then the crash was so bad that &kmail; could not save your message.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #30 -->
<qandaentry>
  <question><para>I set up a folder to be mailing list aware, but messages from the list
  aren't being saved in that folder. What's wrong?</para></question>
  <answer>
    <para>Associating a folder with a mailing list has nothing to do with filtering the mailing list messages
    &mdash; you have to add a new filter rule manually. However, once you have associated a folder with a mailing list
    you can use <menuchoice><guimenu>Message</guimenu><guimenuitem>Reply to Mailing-List...</guimenuitem></menuchoice>
    or <menuchoice><guimenu>Message</guimenu><guimenuitem>New Message to Mailing-List...</guimenuitem></menuchoice>
    and the mailing list address will be set in the <guilabel>To:</guilabel> field.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>My SMTP server requires authentication. Does &kmail; support this?</para></question>
  <answer>
    <para><guilabel>Authentication</guilabel> can be set in the <guilabel>Advanced</guilabel> tab
    of the <link linkend="configure-accounts-sending">SMTP configuration dialog</link>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry id="faq-procmail">
  <question><para>Can I use &kmail; and <application>procmail</application>?</para></question>
  <answer>
    <para>Yes, but it is important to do it the right way or you might lose
    mail. To use <application>procmail</application> and &kmail; you must
    set up &kmail; to fetch new mail from the spoolfiles in which 
    <application>procmail</application> drops your mail. Do <emphasis>not</emphasis>
    set up procmail to deliver mail to a &kmail; folder. This cannot work.</para>

    <para>For each procmail spoolfile you must then create an account
    from which &kmail; will fetch new mail. You also need to specify
    the right lockfile name for this account. When setting up an
    account, &kmail; will do some minimal parsing on your
    <filename>.procmail</filename> file, and will try to list every
    spoolfile it has found, and also the lockfiles next to the
    <guilabel>procmail lockfile</guilabel> item. Procmail lets the user
    specify lockfiles in three different ways, so there is no way to
    establish a correspondence between the spoolfiles and lockfiles; it's
    really up to you to make sure the right lockfile for each
    spoolfile has been specified.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>Spellchecking does not recognize non-English characters. Why?</para></question>
  <answer>
    <para>Before you can use spellchecking, you must configure it. You can do so in the composer
    window, under <menuchoice><guimenu>Settings</guimenu><guimenuitem>Spellchecker...</guimenuitem>
    </menuchoice>. You can choose a dictionary there.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I use my <application>Eudora</application>/&Netscape;/<application>Outlook</application>/...
  mail folders in  &kmail;?</para></question>
  <answer>
    <para>See the section <link linkend="importing-options">Restore and Import in &kmail;</link>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #35 -->
<qandaentry>
  <question><para>Can I use encryption with my normal (non-<acronym>SSL</acronym>) POP3 account?</para></question>
  <answer>
    <para>If your POP3 server runs an <application>ssh</application> daemon, you
    can use ssh to tunnel your POP3 connection using the following command:</para>

    <para><userinput><command>ssh</command> <option>-L 11000:127.0.0.1:110
    user@host</option></userinput></para>

    <para>Modify your &kmail; configuration to fetch the mail via POP3 from 
        <userinput>localhost</userinput> and ssh will tunnel the connection for you.
    </para>

    <note><para>If non-encrypted messages have already been sent
    via the Internet, the only advantage of using <application>ssh</application> is
    that your <emphasis>password</emphasis> will be sent encrypted to the POP3
    server.</para></note>

    <para>
    For more details on setting up ssh, see <ulink
    url="http://www.faqs.org/docs/Linux-mini/Secure-POP+SSH.html">this web page</ulink>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry id="faq-file-locking">
  <question><para>Does &kmail; lock the folders it uses?</para></question>
  <answer>
    <para>&kmail; does not lock the files in <filename
    class="directory">~.local/share</filename>.</para>
    <para>To avoid the risk of losing mail <emphasis>when using a local
    account,</emphasis> it is necessary to ensure that &kmail; uses the
    same locking mechanism as your mail delivery agent.</para>

    <para>There are five different locking options you can use:</para>

      <itemizedlist>
        <listitem><para><guilabel>Procmail lockfile</guilabel></para></listitem>
        <listitem><para><guilabel>Mutt dotlock</guilabel></para></listitem>
        <listitem><para><guilabel>Mutt dotlock privileged</guilabel></para></listitem>
        <listitem><para><guilabel>FCNTL</guilabel> (default)</para></listitem>
        <listitem><para><guilabel>none (use with care)</guilabel></para></listitem>
      </itemizedlist>

    <para><guilabel>Procmail lockfile</guilabel> uses a small utility that comes
    with <application>procmail</application> called <command>lockfile</command>. You
    can use this if your mail folder is in a folder where you have write
    permission.  This will not work on your <filename
    class="directory">/var/spool/mail/user</filename> file in most cases.  It will
    create <filename>.lock</filename> files on your account when &kmail; is checking
    for new mail. Please note that this will only work if
    <application>procmail</application> is installed on your system.</para>

    <para><guilabel>Mutt dotlock</guilabel> and <guilabel>Mutt dotlock
    privileged</guilabel> both use a small utility that comes with
    <application>mutt</application> called <command>mutt_dotlock</command>.
    <guilabel>Mutt dotlock</guilabel> can be used in the same way as the
    <guilabel>Procmail lockfile</guilabel> option, with the same limitation
    with respect to the <filename class="directory">/var/spool/mail/</filename>
    folders. The <guilabel>Mutt dotlock privileged</guilabel> option can create
    lock files in the <filename class="directory">/var/spool/mail</filename> folder.
    <command>mutt_dotlock</command> is a setgid program and this option will
    run it in setgid mode. Please note that these options will only work if
    <application>mutt</application> is installed on your system.</para>

    <para><guilabel>FCNTL</guilabel> uses the
    <function>fcntl()</function> system call.</para>

    <warning><para>Using FCNTL locking might cause system lockups when the mail
    spool file is on an NFS mounted device.</para></warning>

    <para>If you do not want to use any locking, the <guilabel>none</guilabel> option
    is available. However, there are risks of losing mail when no locking is
    used.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I leave messages on the POP3 server?</para></question>
  <answer>
    <para>If you want to leave all messages on the server, open the
    <menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure &kmail;...</guimenuitem>
    </menuchoice> window. Click on the <guilabel>Accounts</guilabel> page. Select your
    account from the account list and click the <guibutton>Modify...</guibutton>
    button. This dialog contains the <guilabel>Leave fetched messages on the server</guilabel>
    setting (Advanced tab) which you can enable.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I automatically insert a text footer within my
  messages?</para></question>
  <answer>
    <para>The text footer is also called a signature (not to be confused
    with a cryptographic signature). Select <menuchoice><guimenu>Settings</guimenu>
    <guimenuitem>Configure &kmail;...</guimenuitem></menuchoice>. Look in the
    <guilabel>Identity</guilabel> page for the <guilabel>Signature</guilabel>
    tab and add your signature there. Then go to the <guilabel>General</guilabel>
    tab on the <guilabel>Composer</guilabel> page and enable
    <xref linkend="configure-composer-general-append-signature"/>.</para>
    <para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How do I set up &Sendmail; to work with
  &kmail; if I have a  dial-up connection?</para></question>
  <answer>
    <para>First you should check to see if your distribution
    can do this for you. It probably has already been set up during
    installation.</para>

    <para>If that is not the case, you may want to have a look at <ulink
    url="https://www.tldp.org/HOWTO/Mail-Queue.html">the Mail Queue
    HOWTO</ulink>.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<!-- FAQ #40 -->
<qandaentry>
  <question><para>I've seen demonstrations of remote control behavior with &kmail;.
  Is there any documentation on the available interfaces?</para></question>
  <answer>
    <para>You can get a list of functions by using this command in a shell:
    <userinput><command>qdbus</command><option>org.kde.kmail /KMail</option></userinput>.
    Then you can control &kmail; like this: <userinput><command>qdbus</command>
    <option>org.kde.kmail /KMail org.kde.kmail.kmail.folderList</option></userinput>. You
    can also use <application>qdbusviewer</application> to browse available methods in
    a graphical interface.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>When I reply to a message, only a part of the message is quoted. How come?</para></question>
  <answer>
    <para>This can happen when the message contains two dashes and a space on a single line. This is seen
    as the start of a signature. The remainder of the message will not be quoted, because when you reply
    to a message, &kmail; strips the signature.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>I am only using &IMAP;. Can I get rid of those Local Folders in
  the folder list, or at least keep them collapsed all the time?</para></question>
  <answer>
    <para>No, you cannot get rid of them. The local folders function as a fallback when the &IMAP; server
    is unreachable. Although you only use &IMAP;, &kmail; uses the outbox for sending the messages. If we
    hide all local folders you will not be able to fix messages in the outbox which cannot be send for some
    reason. But it is possible to keep the local folders collapsed. What you have to do is go to
    <menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure &kmail;...</guimenuitem></menuchoice>
    and go to the section Misc. There you can set up the folder on startup. If you change that to a folder on
    the &IMAP; account, the Local Folders will stay collapsed when &kmail; starts.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I watch a particular thread?</para></question>
  <answer>
    <para>If you want to follow a thread, right click and choose <menuchoice><guimenu>Mark Thread</guimenu>
    <guimenuitem>Watch Thread</guimenuitem></menuchoice>.</para>
    <para>From this point on all messages on the thread that starts in this message will be marked as
    <guilabel>Watched</guilabel>.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

<qandaentry>
  <question><para>How can I watch my own threads?</para></question>
  <answer>
    <para>This is useful in case you are registered to a mailing list such as
    kdepim-users@kde.org and want to filter out the threads you participate in.</para>
      <itemizedlist>
        <listitem>
          <para>Create a filter to mark all your incoming messages to a mailing list as Watched</para>
          <para>To create a filter go to:</para>
          <para><menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure Filters</guimenuitem></menuchoice></para>
            <itemizedlist>
              <listitem>
	            <para>select <guilabel>Match all of the following</guilabel></para>
              </listitem>
              <listitem>
	            <para>Add the conditions:
	              <itemizedlist>
	                <listitem>
	                  <para><menuchoice><guimenu>From</guimenu><guisubmenu>Contains</guisubmenu><guimenuitem>
                      </guimenuitem></menuchoice> <replaceable>yourmail@maildomain</replaceable>
                      <footnote><para>replace <replaceable>yourmail@maildomain</replaceable>&nbsp;with your
                      outgoing mail address</para></footnote></para>
	                </listitem>
	                <listitem>
	                  <para><menuchoice><guimenu>List-Id</guimenu><guimenuitem>Contains</guimenuitem></menuchoice> 
                      <replaceable>listID</replaceable><footnote><para>replace <replaceable>listID</replaceable> with
                      a specific mailing list id (&eg;, &lt;kdepim-users.kde.org&gt;) or just a <quote>.</quote> to include
                      outgoing mail to all mailing lists with <quote>.</quote> in their id (basically all of them).</para></footnote></para>
	                </listitem>
	              </itemizedlist>
	            </para>
              </listitem>
              <listitem>
	            <para>Under <guilabel>Filter Actions</guilabel> choose <menuchoice><guimenu>Mark As</guimenu>
                <guimenuitem>Watched</guimenuitem></menuchoice>.</para>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <para>In the <guilabel>Advanced</guilabel> tab.</para>
              <itemizedlist>
                <listitem>
	              <para>Uncheck <guilabel>if this filter matches, stop processing here</guilabel>, so that other
                  filters such as sorting the incoming messages from the mailing list to sub-folders will execute.</para>
                </listitem>
                <listitem>
	              <para>Place that filter before other filters that may stop the filtering process, or simply put it first.
                  (Changing the filters' order is done using the two arrows up and down, under the <guilabel>Available
                  filters</guilabel> list.)</para>
                </listitem>
              </itemizedlist>
            </listitem>
            <listitem>
              <para>Create a search on mailing list messages</para>
              <para>Go to the folder where your mailing list messages are stored (&eg;, Local Folders/KDE-PIM-USERS)
              and hit <keycap>S</keycap> key or in the menu <menuchoice><guimenu>Edit</guimenu><guimenuitem>Find
              Messages</guimenuitem></menuchoice>:</para>
                <itemizedlist>
                  <listitem>
	                <para>Select <guilabel>Match all of the following</guilabel><footnote><para>Pay attention
                    to the <guilabel>Include sub-folders</guilabel>.</para></footnote></para>
                  </listitem>
                  <listitem>
	                <para>Add the condition: <menuchoice><guimenu>Message Status</guimenu><guisubmenu>is</guisubmenu>
                    <guimenuitem>Watched</guimenuitem></menuchoice></para>
                  </listitem>
                  <listitem>
	                <para>Give the search an informative name (<guilabel>Search folder name</guilabel>) like
                    <replaceable>KDE-PIM-USERS-Watched</replaceable></para>
                  </listitem>
                  <listitem>
	                <para>Make the search.  After it is done you can close the search window.</para>
                  </listitem>
                </itemizedlist>
              <para>Now whenever you start a thread or participate in one, it is <guilabel>Watched</guilabel>.</para>
        </listitem>
      </itemizedlist>
  </answer>
</qandaentry>

<!-- FAQ #45 -->
<qandaentry>
  <question><para>How can I use E-Mail Translation?</para></question>
  <answer>
    <para>To translate text in the composer window read the section 
    <link linkend="using-the-translator">Using the Built-in Translator</link></para>
    <para>In the message preview pane highlight the text you would like to translate and select 
    <guimenuitem>Translate</guimenuitem> (<keycombo action="simul">&Ctrl;&Alt;<keycap>T</keycap></keycombo>)
    from the &RMB; context menu.</para><para>&nbsp;</para>
  </answer>
</qandaentry>

</qandaset>

</chapter>
